\documentclass[a4paper]{article}

\input{C:/Users/liula/Desktop/Latex/Headers V1.2.tex}

\pagestyle{fancy}
\fancyhf{}
\rhead{Labix}
\lhead{Algebraic Geometry 1}
\rfoot{\thepage}

\title{Algebraic Geometry 1}

\author{Labix}

\date{\today}
\begin{document}
\maketitle
\begin{abstract}
Algebraic Geometry is such a messy subject in a sense that a different books and lecture notes introduce different materials in a different orders, as well as having different prerequisites. After understanding a bit more in the subject, I believe that there is the need to give a clear distinction between traditional algebraic geometry and contemporary algebraic geometry. Although there are undoubtedly many overlapping between the two, I attempt to separate them to make clear their motivations as well as their results. \\~\\

This book will mainly cover traditional algebraic geometry in the sense that the construction of affine and projective varieties will be covered, as well as the Hilbert Nullstellensatz theorems, morphisms, tangent maps and smoothness as well as classical constructions of some varieties. Affine schemes and sheaf theory are left for another time where they attempt to reinvent the fundamentals of algebraic geometry. \\~\\

Knowledge on commutative algebra is required as a prerequisite. These set of notes make use of
\begin{itemize}
\item Algebraic Geometry I by I. R. Shafarevich and V. I. Danilov
\item Algebraic Geometry by R. Hartshorne
\item An Invitation to Algebraic Geometry by Karen. S, Pekka. K, Lauri .K, William .T
\end{itemize}
\end{abstract}
\pagebreak
\tableofcontents
\pagebreak

\section{Some Topological Concepts}
\subsection{Irreducible Spaces}
\begin{defn}{Irreducible Spaces}{} Let $X$ be a space. We say that $X$ is irreducible if the following are true. For any closed sets $U,W\subseteq X$ such that $X=U\cup W$, we have that either $U=X$ or $W=X$. Otherwise, we say that $X$ is reducible. 
\end{defn}

\begin{prp}{}{} Let $X$ be a space. Let $f:X\to Y$ be continuous. If $X$ is irreducible, then $f(X)$ is irreducible. \tcbline
\begin{proof}
Suppose that $f(X)=Y_1\cup Y_2$ for some closed sets $Y_1,Y_2\subseteq Y$. Then we have that $X=f^{-1}(Y_1)\cup f^{-1}(Y_2)$ and both $f^{-1}(Y_1)$ and $f^{-1}(Y_2)$ are closed by continuity. Since $X$ is irreducible, we have that either $X=f^{-1}(Y_1)$ or $X=f^{-1}(Y_2)$. Without loss of generality, assume that $X=f^{-1}(Y_1)$. By surjectivity of $f$ onto $f(X)$, we conclude that $f(X)=Y_1$. Thus $Y$ is irreducible. 
\end{proof}
\end{prp}

\begin{lmm}{}{} Let $X$ be a space. Let $W\subseteq X$ be a subspace of $X$. Then $W$ is irreducible if and only if $\overline{W}$ is irreducible. 
\end{lmm}

\subsection{Noetherian Spaces}
\begin{defn}{Noetherian Spaces}{} Let $X$ be a space. We say that $X$ is Noetherian if for every sequence $Y_1,Y_2,\dots$ of closed sets such that $$Y_1\supset Y_2\supset\cdots$$ there exists $n\in\N$ such that $Y_n=Y_{n+1}=\cdots$. 
\end{defn}

\begin{prp}{}{} Let $X$ be a space. Then $X$ is Noetherian if and only if for every sequence $U_1,U_2,\dots$ of open sets such that $$U_1\subset U_2\subset\cdots$$ there exists $n\in\N$ such that $U_n=U_{n+1}=\cdots$. 
\end{prp}

\begin{prp}{}{} Let $X$ be a space. If $X$ is Noetherian, then $X$ is compact. \tcbline
\begin{proof}
Let $X$ be Noetherian. Suppose that $X$ is not compact. Let $\mU=\{U_i\;|\;i\in I\}$ be an open cover of $X$. Let $U_1\in\mU$. For $n\geq 2$, choose $U_n$ such that $U_n\cap\bigcup_{i=1}^{n-1}U_i\neq\emptyset$. This is possible because $\mU$ is a cover of $X$ and $X$ is not compact. We now get an infinitely strictly increasing chain $$U_1\subset U_1\cup U_2\subset\cdots\subset\bigcup_{i=1}^nU_i\subset\cdots$$ which translates to an infinitely strictly decreasing chain $$X\supset X\setminus U_1\supset X\setminus(U_1\cup U_2)\supset\cdots$$ This is a contradiction since $X$ is Noetherian. Thus $X$ is compact. 
\end{proof}
\end{prp}

\begin{prp}{}{} Every subspace of a Noetherian space is Noetherian. 
\end{prp}

\begin{thm}{}{} Let $X$ be a Noetherian space. Then there exists a finite collection $X_1,\dots,X_n\subseteq X$ of irreducible closed sets such that $$X=X_1\cup\cdots\cup X_n$$ and that $X_i$ is not contained in $X_j$ for $i\neq j$. Moreover, such a decomposition is unique up to reordering of the components. 
\end{thm}

\subsection{Some Types of Maps}
\begin{defn}{Dominant Maps}{} Let $X,Y$ be spaces. Let $f:X\to Y$ be a map. We say that $f$ is dominant if $f(X)$ is dense in $Y$. 
\end{defn}

\begin{defn}{Closed Maps}{} Let $X,Y$ be spaces. Let $f:X\to Y$ be a map. We say that $f$ is closed if for all closed sets $U\subseteq X$, $f(U)$ is closed. 
\end{defn}

\pagebreak
\section{Introduction to Affine Varieties}
\subsection{The Zero Set of Polynomials}
Algebraic geometry is all about the study of polynomials. By collecting all the polynomials and studying them all at once, we obtain surprising structure on the ambient space. Therefore we for once and for all, forget about all additional structures of $k^n$ for $k$ a field. We use the following definition. 

\begin{defn}{Affine Space}{} For a field $k$, define the affine space over $k$ to be the set $$\A^n(k)=\{(a_1,\dots,a_n)\;|\;a_i\in k\text{ for }i=1,\dots,n\}$$
\end{defn}

Notice that point wise this is exactly the same as $k^n$. The whole point of this is that $k^n$ has the structure of a vector space, as well as having the standard topology. We do not want both of these because we will define a different topology on these same set of points. Therefore we may as well give it another name. 

\begin{defn}{Affine Varieties}{} Let $k$ be a field. Let $F=\{f_i\}$ be a collection of polynomials in $k[x_1,\dots,x_n]$. The zero locus of $F$ is defined to be $$\V(F)=\{x\in\A^n|f(x)=0\text{ for all }f\in F\}\subseteq\A^n$$ Subsets of $\A^n$ of this form is called affine varieties. 
\end{defn}

We can also define affine subvarieties as a relative version of the above, in the sense that we have defined particular subsets of $\A_k^n$ to be affine varieties. We can also define particular subsets of an affine algebraic set $X$ to be an affine algebraic subset. 

\begin{defn}{Affine Subvarieties}{} Let $k$ be a field. Let $X$ be an affine algebraic set of $\A_k^n$. An affine subvarieties $Y$ of $X$ is a subset of $X$ that is also an affine variety of $\A_k^n$. 
\end{defn}

In particular, the affine algebraic subsets of $\A_k^n$ are precisely the affine varieties of $\A_k^n$. 

\begin{prp}{}{} Let $k$ be a field. Then the following are true regarding the zero loci. 
\begin{itemize}
\item Closed under countable intersections: Let $\{F_i\;|\;i\in I\}$ be a collection of subsets of $k[x_1,\dots,x_n]$. Then $$\bigcap_{i\in I}\V(F_i)=\V\left(\bigcup_{i\in I}F_i\right)$$
\item Closed under finite unions: Let $\{f_i\;|\;i\in I\},\{g_j\;|\;j\in J\}\subset k[x_1,\dots,x_n]$. Then $$\V(\{f_i\;|\;i\in I\})\cup\V(\{g_j\;|\;j\in J\})=\V(\{f_ig_j\;|\;i\in I, j\in J\})$$
\item $\V(\emptyset)=\A_k^n$
\item $\V(1)=\emptyset$
\item If $F\subseteq G\subseteq k[x_1,\dots,x_n]$ then $\V(G)\subseteq\V(F)$
\end{itemize}\tcbline
\begin{proof}~\\
\begin{itemize}
\item Let $p$ lie in the union. Then for all $f_i$ and $g_j$ we have that $f_i(p)=g_j(p)=0$. Then in particular $(f_ig_j)(p)=0$ and so we proved ``$\subseteq$''. Now let $p\in\V(\{f_ig_j\;|\;i\in I, j\in J\})$. Then there are two cases. If $p\in\V(\{f_i\;|\;i\in I\})$, we are done. If $p\notin\V(\{f_i\;|\;i\in I\})$, then there exists $f_k\in\{f_i\;|\;i\in I\}$ such that $f_k(p)\neq 0$. But we know that $(f_kg_j)(p)=0$ for all $j\in J$. By cancellation law we conclude that $g_j(p)=0$ for all $j\in J$. We conclude that $p\in\V(\{g_j\;|\;j\in J\})$ and we are done. 
\item Since the contents of $V$ are null there are no checks. All points of $\A_k^n$ lie in $V(\emptyset)$. 
\item For all $p\in\A_k^n$, $p\notin\V(1)$ and so we are done. 
\item Let $p\in\V(G)$. For any $f\in F$ we have that $f\in G$ and hence $f(p)=0$. Thus $p\in\V(F)$. 
\end{itemize}
\end{proof}
\end{prp}

The following proposition is a crucial observation that allows us to work with ideals instead of general subsets of the polynomial ring. It is the first step of geometry going into the algebraic side of view. 

\begin{prp}{}{} Let $k$ be a field. If $I$ is the ideal of $F=\{f_i\}$ in $k[x_1,\dots,x_n]$ then $\V(F)=\V(I)$. \tcbline
\begin{proof}
Since $F\subseteq I$, we conclude that $V(I)\subseteq V(F)$ by the above proposition. Now suppose that $p\in V(F)$. For any $f\in I$ we have that $f=\sum_{k=1}^nc_kg_k$ for $c_k\in k[x_1,\dots,x_n]$ and $g_k\in I$. Then $f(p)=0$ since $g_k(p)=0$ for all $k$. Hence $p\in V(I)$. Thus we conclude. 
\end{proof}
\end{prp}

Thus from now on we need not consider ourselves with the affine variety of a countable collection of polynomials since we know that the ring of polynomials of $n$ variables is finitely generated. If we restrict our attention of $V(-)$ only to ideals, we obtain the following nice properties of $V(-)$ which improves on the set based one. 

\begin{prp}{}{} Let $k$ be a field. Let $I$ and $J$ be ideals of $k[x_1,\dots,x_n]$. Then the following are true regarding the zero loci. 
\begin{itemize}
\item $V(I)=V(\sqrt{I})$
\item $V(I)\cap V(J)=V(I+J)$
\item $V(I)\cup V(J)=V(I\cap J)$
\end{itemize}\tcbline
\begin{proof}~\\
\begin{itemize}
\item We have seen that $I\subseteq\sqrt{I}$. Applying $V$ reverses the inclusion to give $V(\sqrt{I})\subseteq V(I)$. Now suppose that $p\in V(I)$. For any $f\in\sqrt{I}$, we have that $f^n\in I$ for some $n\in\N$. But $f^n\in I$ means that $f^n(p)=0$. Since $k$ is a field, we deduce that $f(p)=0$ from $(f(p))^n=0$. Thus $p\in V(\sqrt{I})$. We conclude that $V(I)=V(\sqrt{I})$. 
\item We have seen that $V(I)\cap V(J)=V(I+J)$. I claim that $I+J=\langle r\in I\cup J\rangle$. Let $x\in I+J$. Then $x=i+j$ for some $i\in I$ and $j\in J$. But sums of elements of an ideal lie in the ideal. Since $i,j\in I\cup J$, we conclude that $x\in\langle r\in I\cup J\rangle$. Now suppose that $y\in\langle r\in I\cup J\rangle$. Then $y=\sum_{k=1}^nc_km_k$ for $c_k\in k[x_1,\dots,x_n]$ and $m_k\in I\cup J$. We can then split the sum into two parts: $$y=\sum_{m_k\in I}c_km_k+\sum_{m_k\in J}c_km_k\in I+J$$ Hence we conclude. Now we conclude that $V(I+J)=V(I\cup J)$ by the above proposition. 
\item Using the fact that $\sqrt{IJ}=\sqrt{I\cap J}$, we have that $$V(I)\cup V(J)=V(IJ)=V(\sqrt{IJ})=V(\sqrt{I\cap J})=V(I\cap J)$$ and so we are done. 
\end{itemize}
\end{proof}
\end{prp}

\begin{defn}{Hypersurfaces}{} Let $k$ be a field. Let $V\subseteq\A_k^n$ be a variety. We say that $V$ is a hypersurface if it is the vanishing locus $$V=\V(f)$$ of a single polynomial $f\in k[x_1,\dots,x_n]$. 
\end{defn}

The Hilbert basis theorem in conjunction with the above proposition shows that affine varieties can be thought of as very simple things. We do not need to work with uncountably many polynomials that define the vanishing set. 

\begin{crl}{}{} Let $k$ be a field. Let $V\subseteq\A_k^n$ be an affine variety. Then $V$ is the intersection of finitely many hypersurfaces. \tcbline
\begin{proof}
Suppose that $V=\V(\{f_i\;|\;i\in I\})$. Then we have that 
\begin{align*}
V&=\V((f_i)_{i\in I})\tag{prp 2.1.6}\\
&=\V(f_1,\dots,f_r)\tag{Hilbert's basis theorem}\\
&=\bigcap_{i=1}^r\V(f_i)
\end{align*}
and so we conclude. 
\end{proof}
\end{crl}

\subsection{Irreducible Varieties}
\begin{defn}{Affine Algebraic Varieties}{} Let $k$ be a field. An affine algebraic set $V\subseteq\A_k^n$ is said to be irreducible if the following are true. For any affine varieties $V_1,V_2\subseteq\A_k^n$ such that $$V=V_1\cup V_2$$ we have that either $V_1=V$ or $V_2=V$. In this case $V$ is also said to be an affine algebraic variety. Otherwise, we say that $V$ is reducible. 
\end{defn}

\begin{eg}{}{} Consider $V=V(xy)\subseteq\A_\C^2$ the union of the axes and $W=V(xy,xz)$. Then both $V$ and $W$ are reducible. \tcbline
\begin{proof}
It is easy to decompose $V(xy)=V(x)\cup V(y)$ and $V(xy,xz)=V(x)\cup V(y,z)$. 
\end{proof}
\end{eg}

The notion of irreducibility is more useful in an algebraically closed field because often the set-theoretic picture describes the algebraic-geometric properties of the variety. 

\begin{prp}{}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ be an affine algebraic variety. Then $V$ is connected. \tcbline
\begin{proof}
Suppose that $V=U\cup W$ for some closed sets $U$ or $W$. Then $U$ and $W$ are also affine varieties. Since $V$ is irreducible, either $V=U$ or $V=W$. Thus $V$ is connected. 
\end{proof}
\end{prp}

\subsection{The Zariski Topology}
\begin{defn}{Zariski Topology}{} Let $k$ be a field. Define the Zariski topology on $\A_k^n$ to be the topology where the closed sets are precisely all the affine varieties of $\A_k^n$. 
\end{defn}

The Zariski topology is coarser than the standard topology of $k^n$ in the following sense. In general, the Zariski topology is not even Hausdorff. This means, the intersection of open sets in the Zariski topology are always non-empty. From this point onwards, unless otherwise specified, topology on $\A_k^n$ means the Zariski topology. 

\begin{lmm}{}{} The following are true regarding the Zariski topology on $\A_\C^n$. 
\begin{itemize}
\item Every closed set in the Zariski topology on $\A_\C^n$ is a closed set in the standard topology of $\A_\C^n$. 
\item Every open set in the Zariski topology on $\A_\C^n$ is an open set in the standard topology of $\A_\C^n$. 
\end{itemize} \tcbline
\begin{proof}
Let $V=V(\{f_i\;|\;i\in I\})$ be a closed set of the Zariski topology. Then we have that $$V=\bigcap_{i\in I}V(f_i)$$ But each $V(f_i)$ is set theoretically equal to $f_i^{-1}(0)$. This set is open in the standard topology because $0$ is a closed set in $\C$ and $f_i$ is a continuous function. Since the countable intersection of closed sets are closed, we conclude that $V$ is closed. \\~\\

Let $U$ be an open set in the Zariski topology. By the above argument we conclude that $\A^n\setminus U$ is a closed set in the standard topology. Hence $U$ is an open set in the standard topology. 
\end{proof}
\end{lmm}

Using the Zariski topology on $\A_k^n$, we can now endow a subspace topology on any affine algebraic set of $\A_k^n$. By definition, closed sets of an affine algebraic set $X$ can be characterized in the following way: $$\left\{\text{Closed subsets of }X\right\}\;\;\overset{1:1}{\longleftrightarrow}\;\;\left\{Y\cap X\;|\; Y\text{ is an affine algebraic set of }\A_k^n\right\}$$ Some funky things happen with the Zariski topology. 

\begin{lmm}{}{} Let $k$ be a field. Then every closed set of $\A_k^1$ is a finite set. \tcbline
\begin{proof}
Let $V$ be a closed set of $\A_k^1$. Then $V$ is the common zero set of some collection of polynomials. Since each polynomial has at most a finite number of zeroes, $V$ can at most contain finitely many points. 
\end{proof}
\end{lmm}

\begin{eg}{}{} Let $k$ be a field. Then the following are true. 
\begin{itemize}
\item If $k$ is infinite then $\A_k^1$ is not Hausdorff
\item If $k$ is finite then $\A_k^1$ is a discrete space and is Hausdorff. 
\end{itemize} \tcbline
\begin{proof}~\\
\begin{itemize}
\item Suppose that $k$ is infinite. Let $x,y\in\A_k^1$. Let $U_x$ and $U_y$ be open neighbourhoods of $x$ and $y$ respectively. Then $V=\A_k^1\setminus U_x$ and $W=\A_k^1\setminus U_y$ are both closed and are hence varieties. By the above, $V$ and $W$ are finite. Hence we can choose $z\notin V$ and $z\notin W$ because $\A_k^1$ is infinite. Then $z\in U_x$ and $z\in U_y$ implies that $U_x$ and $U_y$ are not disjoint. Hence $\A_k^1$ is not Hausdorff
\item Let $k$ be finite. Then every closed set of $\A_k^1$ is finite. But $\A_k^1$ is also finite. Hence every open set is also finite. In particular, for $x_0\in A_k$, $\{x_0\}$ is an open set because $$V\left(\prod_{c\in\A_k^1\setminus\{x_0\}}(x-c)\right)=\A_k^1\setminus\{x_0\}$$ is a closed set. Thus $\A_k^1$ is the discrete space. Finally, for any two points $x,y\in\A_k^1$, $\{x\}$ and $\{y\}$ are disjoint open neighbourhoods of $x$ and $y$. Hence $\A_k^1$ is Hausdorff. 
\end{itemize}
\end{proof}
\end{eg}

\begin{eg}{}{} Let $k=\R$ or $\C$. The Zariski topology on $\A_k^2$ is not homeomorphic to the product topology of the Zariski topology of $\A_k^1\times\A_k^1$. \tcbline
\begin{proof}
Consider the diagonal $\{(x,x)\;|\;x\in\A^1\}\subseteq\A^2$. This set is closed in the Zariski topology of $\A^2$ because it is the zero set of $y=x$. However, the closed sets of $\A_k^1$ are finite sets. By the product topology, the closed sets of $\A_k^1\times\A_k^1$ is an arbitrary intersection of a finite union of products of closed sets. Hence the closed sets of $\A_k^1\times\A_k^1$ are also finite. But the diagonal is not a finite set and hence is not a closed set in $\A_k^1\times\A_k^1$. 
\end{proof}
\end{eg}

Recall that given a space and a subspace $A\subseteq B$, $P\subseteq A$ is closed in $A$ if $A$ is closed in $B$ and $P$ is closed in $B$. 

\begin{lmm}{}{} Let $k$ be a field. Let $X$ be an affine algebraic set of $\A_k^n$. Then $Y\subseteq X$ is an affine algebraic subset of $X$ if and only if $Y$ is closed in $X$. \tcbline
\begin{proof}
Let $Y$ be an affine algebraic subset of $X$. Then we deduce from definitions that $Y\subseteq X$ and $Y$ is an affine algebraic set of $\A_k^n$. Hence $Y$ is closed in $\A_k^n$. Moreover, $X$ is a closed set of $X$. Thus $Y$ is closed in $X$. \\~\\

Now suppose that $Y\subseteq X$ is closed. By definition of closed sets, there exists some closed set $P\subseteq\A_k^n$ such that $Y=P\cap X$. Since $X$ and $P$ are affine varieties of $\A_k^n$, by prp1.1.4 the intersection $Y=P\cap X$ is also an affine algebraic set of $\A_k^n$. Thus we conclude. 
\end{proof}
\end{lmm}

This lemma showed that there is a one-to-one correspondence in the following way: $$\left\{\text{Closed subsets of }X\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\text{Affine algebraic subsets of }X\right\}$$ for any affine algebraic set $X$ of $\A_k^n$. In fact, this simplifies quite a lot topologically. Recall that because closed and open sets are relative, we often need to state whether a set is closed relative to the subspace or closed in the underlying space. However, we see in the Zariski topology that they both really mean the same thing, namely it is the zero set of some collection of polynomials. 

\subsection{Morphisms of Affine Varieties}
As with any other field of maths, we need a correct notion of morphism between varieties to work with so that we can transfer structure to a potentially easier object to study. However, depending on what subfield of algebraic geometry one is interested in, there may be different notions of morphisms. In this introductory notes, we will define the most generic and widely used morphism. 

\begin{defn}{Polynomial Maps}{} Let $k$ be a field. We say that a map of sets $f:\A_k^n\to\A_k^m$ is polynomial if there exists $f_1,\dots,f_m\in k[x_1,\dots,x_n]$ such that $$f(p)=(f_1(p),\dots,f_m(p))$$ for all $p\in\A_k^n$. 
\end{defn}

\begin{defn}{Regular Maps}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. A regular map from $V$ to $W$ is a map $$\phi:V\to W$$ such that $\phi$ is the restriction of a polynomial map $\A_k^n\to\A_k^m$. 
\end{defn}

Such a regular map may not be given by a unique set of polynomials. 

\begin{eg}{}{} Let $V=V(y-x^2)\subseteq\A_\C^2$ be the parabola. Let $W=V(y^2-x^3)\subseteq\A_\C^2$ be the cuspidal cubic. Consider $F_1,F_2:\A_\C^2\to\A_\C^2$ defined by $F_1(x,y)=(x^2,x^3)$ and $F_2(x,y)=((y-x^2+1)x^2,x^3)$ respectively. Then $F_1$ and $F_2$ define the same regular map $(F_1)|_V=(F_2)|_V:V\to W$. \tcbline
\begin{proof}
Indeed, when restricted to $V=V(y-x^2)$, we conclude that $y-x^2=0$ and hence $F_2$ simplifies to the map $F_1$. 
\end{proof}
\end{eg}

\begin{prp}{}{} Let $k$ be a field. Let $\phi:\A_k^n\to\A_k^m$ be a polynomial map. Let $W=V(\{f_i\;|\;i\in I\})\subseteq\A_k^m$ be an affine algebraic set of $\A_k^m$. Then $$\phi^{-1}(W)=V(\{f_i\circ\phi\;|\;i\in I\})$$ \tcbline
\begin{proof}
Let us first consider the case of the zero set $V(g)$ of one polynomial. Suppose that $x\in\phi^{-1}(V(g))$. Then $\phi(x)\in V(g)$ which means that $g(\phi(x))=0$. The converse is entirely true. Hence we proved that $\phi^{-1}(V(g))=V(g\circ\phi)$. \\~\\

Now let $W=V(\{f_i\;|\;i\in I\})\subseteq\A_k^m$. Then $W=\bigcap_{i\in I}V(f_i)$ It follows that 
\begin{align*}
\phi^{-1}(W)&=\phi^{-1}\left(\bigcap_{i\in I}V(f_i)\right)\\
&=\bigcap_{i\in I}\phi^{-1}\left(V(f_i)\right)\\
&=\bigcap_{i\in I}V(f_i\circ\phi)\\
&=V(\{f_i\circ\phi\;|\;i\in I\})
\end{align*}
and so we conclude. 
\end{proof}
\end{prp}

While the preimage of a subvariety is a subvariety, the image of a subvariety may not be a variety in general, but its closure still is. 

\begin{lmm}{}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. Let $f:V\to W$ be a regular map. If $U\subseteq V$ is an irreducible subvariety of $V$, then $\overline{f(U)}\subseteq W$ is an irreducible subvariety of $W$. 
\end{lmm}

\begin{thm}{}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. Let $\phi:V\to W$ be a regular map. Then $\phi$ is continuous with respective to the Zariski topology. \tcbline
\begin{proof}
Let $U$ be an affine algebraic subset of $W$. Then $U$ is also an affine algebraic set in its own right. This means that $U=V(\{f_i\;|\;i\in I\})$ for some collection of polynomials. By the above proposition, we have that $\phi^{-1}(U)=V(\{f_i\circ\phi\;|\;i\in I\})$ and hence is a closed set of $V$. Thus $\phi$ is continuous. 
\end{proof}
\end{thm}

\begin{prp}{}{} Let $k$ be an algebraically closed field. Let $V,W,U$ be affine varieties over $k$. If $f:V\to W$ and $g:W\to U$ are regular maps, then $g\circ f:V\to U$ is also a regular map. 
\end{prp}

\begin{defn}{Isomorphic Varieties}{} Let $k$ be an algebraically closed field. Let $X,Y$ be affine varieties over $k$. A regular map $\phi:X\to Y$ between two varieties is an isomorphism if it has an inverse that is a regular map. $X$ and $Y$ are said to be isomorphic in this case. 
\end{defn}

Note that even $\phi$ is a homeomorphism, $\phi$ may not necessarily be a regular map. This is because of the added condition that the inverse of $\phi$ also has to be a polynomial map. 

\begin{eg}{}{} Let $h:\A_\C^1\to\A_\C^2$ be the regular map defined by $t\mapsto(t^2,t^3)$. Then $h$ is a homeomorphism and not an isomorphism of varieties. \tcbline
\begin{proof}
It is clear that the inverse of $h$ is given by $$(x,y)\mapsto\begin{cases}
\frac{y}{x} & \text{ if }x\neq 0\\
0 & \text{ otherwise }
\end{cases}$$ This map is more over continuous and hence $\phi$ is a homeomorphism. However, $\phi^{-1}$ is not induced by a polynomial map and $\phi$ is not an isomorphism of varieties. 
\end{proof}
\end{eg}

\pagebreak
\section{The Dictionary Between Algebra and Geometry}
Recall that these sets of notes are for algebraic geometry, not purely geometry. We would like to employ algebraic methods to the study of these zero sets. In particular, the goal of the chapter is to establish some sort of one-to-one correspondence with some algebraic objects $$\left\{\substack{\text{Affine algebraic}\\\text{sets of }\A_k^n}\right\}\;\;\overset{1:1}{\longleftrightarrow}\;\;\text{Something Algebraic}$$ Hilbert's Nullstellensatz will provide the link. 

\subsection{Forming an Ideal of a Set}
\begin{defn}{Ideals of a Set of Points}{} Let $k$ be a field. Let $S\subseteq\A_k^n$ be a subset. Define the ideal of $S$ to be $$\I(S)=\{f\in k[x_1,\dots,x_n]\;|\;f(x)=0\text{ for all }x\in S\}$$ 
\end{defn}

Recall that the radical ideal is defined as $$\sqrt{I}=\{f\in k[x_1,\dots,x_n]\;|\;f^r\in I\text{ for some }r>0\}$$

\begin{lmm}{}{} Let $k$ be a field. Let $S\subseteq\A_k^n$ be a subset. Then $\I(S)$ is a radical ideal of $k[x_1,\dots,x_n]$. \tcbline
\begin{proof}
From Commutative Algebra 1, we already know that $\I(S)\subseteq\sqrt{\I(S)}$. So let $f\in\sqrt{\I(S)}$. Then $f^n\in\I(S)$ for some $n\in\N$. This means that for any $p\in S$, we have that $f^n(p)=0$ Since $k$ is a field, we can apply the cancellation law to get $f(p)=0$. Thus $f\in\I(S)$. Thus we are done. 
\end{proof}
\end{lmm}

Similarly as above, $I(V)$ is finitely generated since ideals in a polynomial ring is finitely generated. 

\begin{prp}{}{} Let $k$ be a field. Let $S,T\subseteq\A_k^n$ be subsets. The following are true. 
\begin{itemize}
\item If $S\subseteq T$, then $\I(T)\supseteq\I(S)$
\item $\I(S\cup T)=\I(S)\cap\I(T)$
\end{itemize} \tcbline
\begin{proof}~\\
\begin{itemize}
\item Let $f\in\I(T)$. Then $f(p)=0$ for all $p\in T$. In particular, $f(p)=0$ for all $p\in S$. Thus $f\in\I(S)$. 
\item Let $f\in\I(S\cup T)$. Then $f(p)=0$ for all $p\in S\cup T$. Then $f\in\I(S)$ and $f\in\I(T)$. Thus $f\in\I(S)\cap\I(T)$. Now suppose that $g\in\I(S)\cap\I(T)$. Then $g(p)=0$ for all $p\in S$ and all $p\in T$. Thus $g\in\I(S\cup T)$. 
\end{itemize}
\end{proof}
\end{prp}

\begin{lmm}{}{} Let $k$ be a field. Let $S,T\subseteq\A_k^n$ be subsets. Let $V,W\subseteq\A_k^n$ be an affine variety. Then the following are true. 
\begin{itemize}
\item $\V(\I(V))=V$
\item If $V\neq W$ then $\I(V)\neq\I(W)$. In particular, $V\subset W$ implies $\I(W)\subset\I(V)$. 
\item $\V(\I(S))=\overline{S}$
\item $S=T$ if and only if $\I(S)=\I(T)$
\end{itemize}
\end{lmm}

\begin{prp}{}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ be an affine variety. Then $V$ is Noetherian. \tcbline
\begin{proof}
Suppose that $V_1\supset V_2\supset\cdots$ be a descending chain of subvarieties of $V$. Applying $\I(-)$ gives an ascending chain $$\I(V_1)\subseteq\I(V_2)\subseteq\cdots$$ But $V\neq W$ implies $\I(V)\neq\I(W)$. Since $V_k\supset V_{k+1}$ is a strict containment we conclude that $\I(V_k)\subset\I(V_{k+1})$ is a strict containment. But since $k[x_1,\dots,x_n]$ is a Noetherian ring, we conclude that $\I(V_n)=\I(V_{n+1})=\cdots$ for some $n\in\N$. We conclude that $V_n=V_{n+1}=\cdots$ so that $V$ is Noetherian. 
\end{proof}
\end{prp}

\begin{crl}{}{} Let $k$ be a field. Let $V\subseteq\A_k^n$ be an affine variety. Then $V$ is compact in the Zariski topology. \tcbline
\begin{proof}
Since $V$ is Noetherian, $V$ is compact. 
\end{proof}
\end{crl}

Since every object we study in algebraic geometry is compact, this becomes not as useful as a notation in topology. However, we can redefine the notion of compactness so that it will give useful insights on varieties. 

\subsection{The Absolute Hilbert's Nullstellensatz}
Recall from Commutative Algebra 1 that Zariski's lemma says the following: Let $F$ be a field. Let $K$ be a field that is also a finitely generated algebra over $F$. Then $K$ is a finite algebra. In particular, $K$ is a finitely generated vector space over $F$. \\

We used this to show that every maximal ideal of $k[x_1,\dots,x_n]$ of an algebraically closed field $k$ must be of the form $$(x_1-a_1,\dots,x_n-a_n)$$ for $a_1,\dots,a_n\in F$. We can use this to conclude that any proper ideal of $k[x_1,\dots,x_n]$ has non-zero vanishing locus

\begin{lmm}{}{} Let $k$ be an algebraically closed field. Let $I$ be a proper ideal of $k[x_1,\dots,x_n]$. Then we have $$\V(I)\neq\emptyset$$ \tcbline
\begin{proof}
Since $I$ is proper, it is contained in some maximal ideal $m$. We have seen from Commutative Algebra 1 that every maximal ideal of $m$ is of the form $$m=(x_1-a_1,\dots,x_n-a_n)$$ for $a_1,\dots,a_n\in F$. Let $f\in I\subseteq m$. Then $f$ is a linear combination of the linear polynomials $x_1-a_1,\dots,x_n-a_n$. But such polynomials vanish on $(a_1,\dots,a_n)$. Hence $f\in\V(m)\subseteq\V(I)$ so that $\V(I)$ is non-empty. 
\end{proof}
\end{lmm}

\begin{thm}{Hilbert's Nullstellensatz I}{} Let $k$ be an algebraically closed field. Let $I$ be an ideal of $k[x_1,\dots,x_n]$. Then $$\I(\V(I))=\sqrt{I}$$
\end{thm}

\begin{eg}{}{} The Hilbert's nullstellensatz fails on a field $k$ that is not algebraically closed. \tcbline
\begin{proof}
Consider the variety $\V(x^2+1)\subseteq\A_\R^1$. This set is empty. But $\I(\emptyset)=\R[x]$. But $(x^2+1)$ is a radical ideal. And in particular $(x^2+1)$ does not generate the entire ring $\R[x]$. 
\end{proof}
\end{eg}

\begin{thm}{Hilbert's Nullstellensatz II}{} Let $k$ be an algebraically closed field. Then the following are true. 
\begin{itemize}
\item There is an inclusion reversing bijection $$\left\{\substack{\text{Radical ideals of}\\ k[x_1,\dots,x_n]}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Affine varieties}\\\text{of }\A_k^n}\right\}$$ between the radical ideals of $k[x_1,\dots,x_n]$ and affine varieties of $\A_k^n$ given by $\V(-)$ and $\I(-)$. 
\item There is an inclusion reversing bijection $$\left\{\substack{\text{Prime ideals of}\\ k[x_1,\dots,x_n]}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Affine algebraic}\\\text{varieties of }\A_k^n}\right\}$$ between the prime ideals of $k[x_1,\dots,x_n]$ and affine varieties of $\A_k^n$ given by $\V(-)$ and $\I(-)$. 
\item There is a bijection $$\left\{\substack{\text{Maximal ideals of}\\ k[x_1,\dots,x_n]}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Points in}\\\A_k^n}\right\}$$ between the maximal ideals of $k[x_1,\dots,x_n]$ and points in $\A_k^n$ given by $\V(-)$ and $\I(-)$. 
\end{itemize} \tcbline
\begin{proof}~\\
\begin{itemize}
\item 1
\item 2
\item Let $m$ be a maximal ideal. It is clear that $\V(m)$ is non-empty and contains at least one point $(a_1,\dots,a_n)\in\V(m)$. Suppose for a contradiction that $(b_1,\dots,b_n)\in\V(m)$ is another point. Then $\{(b_1,\dots,b_n)\}\subset\V(m)$ and applying $\I(-)$ gives $$m=\I(\V(m))\subset\I(\{b_1,\dots,b_n)\})\neq k[x_1,\do,x_n]$$ This is a contradiction because $m$ is maximal. Thus $\V(m)$ consists of exactly one point of $\A_k^m$. \\~\\

Now if $(a_1,\dots,a_n)$ is a point in $\A_k^n$, then $\I\{((a_1,\dots,a_n)\})$ is an ideal that contains the polynomials $(x_1-a_1),\dots,(x_n-a_n)$. The evaluation homomorphism on the point $(a_1,\dots,a_n)$ shows that $(x_1-a_1,\dots,x_n-a_n)$ is a maximal ideal, hence $$(x_1-a_1,\dots,x_n-a_n)=\I\{(a_1,\dots,a_n)\})$$ and we are done. \\~\\

By Hilbert's Nullstellensatz I, we have that $\I(\V(m))=m$. By 3.1.4, we have that $\V\I(\{(a_1,\dots,a_n)\})=\{(a_1,\dots,a_n)\}$ so $\V(-)$ and $\I(-)$ gives a bijection. 
\end{itemize}
\end{proof}
\end{thm}

Note that this bijection is compatible with subset inclusion in the sense of proposition 1.2.3. Bijections of this form that induce a relation on subsets are called Galois connections or Galois correspondence, mimicking his work in Galois theory. 

\begin{prp}{}{} Let $k$ be an algebraically closed field. Then every maximal ideal of $k[x_1,\dots,x_n]$ is of the form $$(x_1-a_1,\dots,x_n-a_n)$$ for some $a_1,\dots,a_n\in k$. \tcbline
\begin{proof}
Let $m$ be a maximal ideal. By Hilbert's Nullstellensatz II, $\V(m)$ is a point $(a_1,\dots,a_n)\in\A_k^n$. Now $\I\{((a_1,\dots,a_n)\})$ is an ideal that contains the polynomials $(x_1-a_1),\dots,(x_n-a_n)$. The evaluation homomorphism on the point $(a_1,\dots,a_n)$ shows that $(x_1-a_1,\dots,x_n-a_n)$ is a maximal ideal, hence $$(x_1-a_1,\dots,x_n-a_n)=\I\{(a_1,\dots,a_n)\}=\I(\V(m))=m$$ and we are done. 
\end{proof}
\end{prp}

\begin{prp}{}{} Let $k$ be an algebraically closed field. Every radical ideal $J$ in $k[x_1,\dots,x_n]$ is a finite intersection of prime ideals. \tcbline
\begin{proof}
Given a radical ideal $I$, translate it over to its corresponding affine variety $V(I)$. Then the affine variety can be decomposed into a finite union of algebraic varieties $V(I)=\bigcup_{i=1}^nV_i$. These algebraic varities are able to be matched with a prime ideal by the above proposition. This bijection conjugates the union to the intersection and we are done. 
\end{proof}
\end{prp}

Up until this point, we constructed a small dictionary between algebra and geometry: \\
\begin{center}\begin{tabular}{c|c}
Algebra & Geometry\\
\hline
The Polynomial Ring $k[x_1,\dots,x_n]$ & The Space $\A_k^n$\\
Radical Ideals of $k[x_1,\dots,x_n]$ & Affine Varieties in $\A_k^n$\\
Prime Ideals of $k[x_1,\dots,x_n]$ & Affine Algebraic Varieties in $\A_k^n$\\
Maximal Ideals of $k[x_1,\dots,x_n]$ & Points in $\A_k^n$
\end{tabular}\end{center}

This is the absolute point of view in the sense we are considering every object in geometry under the setting of $\A_k^n$. However we see that it is easy to replace $\A_k^n$ with an affine variety. However we do need a corresponding notion in the algebra side. This is called the coordinate ring. 

\subsection{The Coordinate Ring}
We have worked with the case of $\A_k^n$ up until this point, and considered varieties $V$ of $\A_k^n$  as objects of $\A_k^n$. We would also like to develop the relative point of view. This means that we think of each variety $V$ as the background space, and think of subvarieties of $V$. In order to establish the Nullstellensatz for this case, we need to define the corresponding algebraic object, similar to how the affine space $\A_k^n$ corresponds to the polynomial ring $k[x_1,\dots,x_n]$. 

\begin{defn}{Coordinate Ring}{} Let $k$ be a field and let $V\subseteq\A_k^n$ be an affine variety. Define the coordinate ring of $V$ to be the $k$-algebra $$k[V]=\frac{k[x_1,\dots,x_n]}{\I(V)}$$
\end{defn}

An example does better than its definition. Let us make an example out of $\R^2$. Let $f(x,y)=xy-1$. Then $V(f)=\{(x,y)\in\R^2|xy=1\}$. Then $\R[V]$ can be described simply where if you see any polynomial with a factor of $xy$ in it, treat it as $1$. For example, if $g(x,y)=(x+y)^2\in\R[x,y]$, then $g(x,y)=x^2+2xy+y^2=x^2+y^2+2\in\R[V]$. This example makes the next theorem quite obvious. 

\begin{prp}{}{} Let $V$ be an affine variety over an algebraically closed field $k$. Then the following are equivalent. 
\begin{itemize}
\item $V$ is irreducible
\item $I(V)$ is a prime ideal
\item $k[V]$ is an integral domain. 
\end{itemize}\tcbline
\begin{proof}
It is clear from ring theory that $I(V)$ is a prime ideal if and only if $\C[V]$ is an integral domain. Suppose now that $V$ is irreducible. Suppose for a contradiction that $\C[V]$ is not an integral domain. Then there exists nonzero $f_1,f_2\in\C[V]$ such that $f_1f_2=0$. Since they are nonzero, $V(f_1)$ and $V(f_2)$ are not $V$. But $V(f_1f_2)=V$. This means that $V(f_1)\cup V(f_2)=V(f_1f_2)=V$. Which means that $V$ is reducible, a contradiction. \\~\\
Suppose now that $\C[V]$ is an integral domain but $V$ is reducible. Then there are some $V_1,V_2$ nonempty and closed such that $V_1\cup V_2=V$. By nullstellensatz, $I(V_1)$ and $I(V_2)$ are non empty since they are not the entire $V$. Choose nonzero $f_1\in I(V_1)$ and $f_2\in I(V_2)$. Then $f_1f_2$ vanishes on $V$. Thus $f_1f_2=0$ which contradicts the fact that $\C[V]$ is an integral domain. 
\end{proof}
\end{prp}

\begin{prp}{}{} Let $k$ be a field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. Let $\phi:V\to W$ be a regular map. Then $\phi$ is given by $$\phi=(\phi_1,\dots,\phi_m)$$ for some $\phi_1,\dots,\phi_m\in k[V]$. 
\end{prp}

\begin{defn}{Pullback of a Regular Map}{} Let $k$ be a field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. Let $\phi:V\to W$ be a morphism. Define the pull back of $\phi$ to be the map $$\phi^\ast:k[W]\to k[V]$$ given by the formula $\phi^\ast(p)=p\circ\phi$ for each $p\in k[W]$. 
\end{defn}

\begin{lmm}{}{} Let $k$ be a field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. Let $\phi:V\to W$ be a morphism. Then the pullback map $\phi^\ast:k[W]\to k[V]$ is a well defined $k$-algebra homomorphism. \tcbline
\begin{proof}
Let $f\in k[W]$. Then $f$ and $\phi$ are both polynomials. Hence the composition of polynomials $f\circ\phi$ is also a polynomial. To show that it is well defined on the coordinate ring, we want to show that if $f\in\I(W)$, then $f\circ\phi\in\I(V)$. Let $x\in V$. Then $\phi(x)\in W$ so that $f(\phi(x))=0$. Thus $f\circ\phi\in\I(V)$. \\~\\

To prove that $\phi^\ast$ is a $k$-algebra homomorphism, we have that: 
\begin{itemize}
\item Let $f,g\in k[W]$. Then $$\phi^\ast(f)+\phi^\ast(g)=f\circ\phi+g\circ\phi=(f+g)\circ\phi=\phi^\ast(f+g)$$ by considering addition element-wise. 
\item Let $f,g\in k[W]$. Then $$\phi^\ast(f)\phi^\ast(g)=(f\circ\phi)(g\circ\phi)=(fg)\circ\phi$$ by considering multiplication element-wise. 
\item Let $\lambda\in k$ and $f\in k[W]$. Then $$\phi^\ast(\lambda f)=(\lambda f)\circ\phi=\lambda\cdot(f\circ\phi)=\lambda\phi^\ast(f)$$ by considering linearity element-wise. 
\end{itemize}
\end{proof}
\end{lmm}

We now have the following association:
\begin{itemize}
\item For every affine variety $V\subseteq\A_k^n$, a finitely reduced $k$-algebra $k[V]$ is assigned to it. 
\item For every morphism of affine varieties $V\to W$, the pull back $k[W]\to k[V]$ is assigned to it. 
\end{itemize}
We show that this system of assignments has functorial properties. 

\begin{prp}{}{} Let $k$ be a field. Let $V,W,U$ be affine varieties over $k$. Then the following are true regarding the pullback morphisms. 
\begin{itemize}
\item If $f:V\to W$ and $g:W\to U$ are regular maps, then $(g\circ f)^\ast=f^\ast\circ g^\ast$
\item The pullback of the identity $\text{id}^\ast:k[V]\to k[V]$ is the identity. 
\end{itemize}
\end{prp}

\begin{prp}{}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ and $W\subseteq\A_k^m$ be affine varieties. Then there is a bijection $$\left\{\substack{\text{Morphisms}\\ V\to W}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Algebra Homomorphisms}\\ k[W]\to k[V]}\right\}$$ given by sending each morphism $\phi:V\to W$ to the pullback map $\phi^\ast$. Moreover, the isomorphisms on the left correspond to isomorphisms on the right under the bijection. \tcbline
\begin{proof}
Injectivity: Suppose that $\phi\neq\rho$. Then there exists $x\in V$ such that $\phi(x)\neq\rho(x)$. I claim that there exists $f\in k[W]$ such that $f(\phi(x))\neq f(\rho(x))$. Indeed, since $\phi(x)$ and $\rho(x)$ are different points, then there exists at least one coordinate $y_i$ of $\phi(x)$ and $\rho(x)$ that are different. Then the function $y_i:W\to k$ that picks out the $i$th coordinate satisfy our requirements. Now we have that 
\begin{align*}
f(\phi(x))&\neq f(\rho(x))\\
\phi^\ast(f)(x)&\neq\rho^\ast(f)(x)
\end{align*}
which implies that $\phi^\ast\neq\rho^\ast$. \\~\\

Surjectivity: Let $\phi:k[y_1,\dots,y_m]/\I(W)\to k[x_1,\dots,x_n]/\I(V)$ be a $k$-algebra homomorphism. For each $y_i+\I(W)\in k[W]$, $\phi$ maps the element to $f_i+\I(V)\in k[V]$ for some non-unique choice of $f_i$. Define the map $$\tilde{\phi}:k[y_1,\dots,y_m]\to k[x_1,\dots,x_n]$$ by $y_i\mapsto f_i$. Notice that this makes the following diagram commute: \\~\\
\adjustbox{scale=1.0,center}{\begin{tikzcd}
	{k[y_1,\dots,y_m]} & {k[x_1,\dots,x_n]} \\
	{k[W]} & {k[V]}
	\arrow["{\widetilde{\phi}}", from=1-1, to=1-2]
	\arrow["p", two heads, from=1-1, to=2-1]
	\arrow["q", two heads, from=1-2, to=2-2]
	\arrow["\phi"', from=2-1, to=2-2]
\end{tikzcd}} \\~\\
where $p$ and $q$ are quotient maps. Now define a map $F:\A_k^n\to\A_k^m$ by the formula $$F(a)=(f_1(a),\dots,f_m(a))$$ We now want to show that this descends to a well defined morphism $F|_V:V\to W$. So let $a\in V$. We want to show that $F(a)\in W=\V(\I(W))$. So we want to show that $F(a)$ is in the vanishing set of $\I(W)$. Let $g\in\I(W)$. But we have that 
\begin{align*}
g(F(a))&=g(f_1(a),\dots,f_n(a))\\
&=g(\widetilde{\phi}(y_1)(a),\dots,\widetilde{\phi}(y_n)(a))\\
&=\widetilde{\phi}(g)(a)
\end{align*}
By commutativity of the diagram, we have $(\phi\circ p)(g)=(q\circ\widetilde{\phi})(g)$. But $g\in\I(W)$ implies that $p(g)=0$. Hence $q\circ\widetilde{\phi}(g)=0$. In other words, $\widetilde{\phi}(g)\in\I(V)$. This implies that $\widetilde{\phi}(g)(a)=0$. Hence $F$ descends to a map $V\to W$. It remains to show that $F|_V^\ast=\phi$. Let $[h]\in k[W]$. Then by definition we have $$F|_V([h])(a)=[h\circ F|_V](a)=[\widetilde{\phi}(h)](a)=\phi(h)(a)$$ so we are done. 
\end{proof}
\end{prp}

\subsection{Relation to Reduced and Finitely Generated Algebras}
\begin{prp}{}{} Let $k$ be a field. Let $R$ be a $k$-algebra. Then $R$ is reduced and finitely generated over $k$ if and only if $R$ is isomorphic to the coordinate ring of some affine variety $V$ of $\A_k^n$. \tcbline
\begin{proof}
It is clear that every coordinate ring is a reduced and finitely generated $k$-algebra. Let $R$ be a reduced and finitely generated $k$-algebra. Suppose that $R$ is generated by $b_1,\dots,b_n$ over $k$. Then be definition of a finitely generated $k$-algebra, there is a surjective homomorphism $$\varphi:k[x_1,\dots,x_n]\to R$$ defined by $x_i\mapsto b_i$. By the first isomorphism theorem for $k$-algebras, there is an isomorphism $$\frac{k[x_1,\dots,x_n]}{\ker(\varphi)}\cong R$$ induced by $\varphi$. Now $R$ is reduced, hence $\ker(\varphi)$ is a radical ideal. By Hilbert's Nullstellensatz (it corollary), there exists an affine variety $V\subseteq\A_k^n$ such that $\I(V)=\ker(\varphi)$. Thus we conclude. 
\end{proof}
\end{prp}

\begin{prp}{}{} Let $k$ be a field. Let $$R\cong k[V]\;\;\;\;\text{ and }\;\;\;\; S\cong k[W]$$ be finitely generated and reduced $k$-algebra for $V,W$ affine varieties over $k$. Let $\phi:S\to R$ be a $k$-algebra homomorphism. Let $V',W'$ be affine varieties over $k$ such that $$R\cong k[V']\;\;\;\;\text{ and }\;\;\;\; S\cong k[W']$$ By 3.3.7 there exists unique isomorphisms $\alpha:V'\to V$ and $\beta:W'\to W$. Then the unique morphisms $F:V\to W$ and $G:V'\to W'$ given by 3.3.7 is such that the following diagram commutes: \\~\\
\adjustbox{scale=1.0,center}{\begin{tikzcd}
	{k[V]} & {k[W]} && {V'} & {W'} \\
	{k[V']} & {k[W']} && V & W
	\arrow["{F^\ast}", from=1-1, to=1-2]
	\arrow["{\alpha^\ast, \cong}"', from=1-1, to=2-1]
	\arrow["{\beta^\ast, \cong}", from=1-2, to=2-2]
	\arrow["G", from=1-4, to=1-5]
	\arrow["\alpha"', from=1-4, to=2-4]
	\arrow["\beta", from=1-5, to=2-5]
	\arrow["{G^\ast}"', from=2-1, to=2-2]
	\arrow["F"', from=2-4, to=2-5]
\end{tikzcd}} \\~\\
\end{prp}

\begin{prp}{}{} Let $k$ be a field. Let $V,W$ be affine varieties over $k$. Then $V\cong W$ if and only if $k[V]\cong k[W]$. 
\end{prp}

\begin{crl}{}{} Let $k$ be a field. Then there is a one-to-one bijection $$\frac{\left\{\text{Affine varieties over }k\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}}{\cong}\;\;\frac{\left\{\substack{\text{Reduced and }\\\text{finitely generated }k\text{-algebra}}\right\}}{\cong}$$ where the equivalence classes are precisely the isomorphism classes. 
\end{crl}


The upshot is that all of this proves the following: The category of affine varieties over a field $k$ is equivalent to the category of finitely generated and reduced $k$-algebras. Indeed we have defined two functors in the following way:
\begin{itemize}
\item There is a functor sending each affine variety $V$ over $k$ to the coordinate ring $k[V]$, and sending each morphism $\phi:V\to W$ to the pullback map $\phi^\ast:k[W]\to k[V]$
\item There is a functor sending each finitely generated reduced $k$-algebra $R$ to any choice of affine variety $V$ representing $R$ such that $R\cong k[V]$, and sending each morphism $\rho:R\to S$ to the morphism of affine varieties $F:W\to V$ constructed above. 
\end{itemize}

Notice that to show that these two functors define an equivalence of categories, we need to show that composition in both ways is naturally isomorphic to the identity functor. This means that we want to show that there exist isomorphisms in the vertical directions such that the following diagram commutes: \\~\\
\adjustbox{scale=1.0,center}{\begin{tikzcd}
	V & W && {k[V']} & {k[W']} \\
	{V'} & {W'} && {k[V]} & {k[W]}
	\arrow["\phi", from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow["{\psi^\ast}", from=1-4, to=1-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-5, to=2-5]
	\arrow["\psi"', from=2-1, to=2-2]
	\arrow["{\phi^\ast}"', from=2-4, to=2-5]
\end{tikzcd}} \\~\\
But this is precisely the content of 3.4.2
 
\subsection{The Relative Nullstellensatz}
We also have the relative version of Hilbert's Nullstellensatz. We begin with the relative version of the vanishing loci and ideal. 

\begin{defn}{Relative Vanishing Loci and Ideal}{} Let $k$ be a field. Let $X$ be an affine variety of $\A_k^n$. 
\begin{itemize}
\item Let $F\subset k[X]$ be a subset. Define the vanishing loci of $F$ in $X$ to be $$\V_X(F)=\{p\in X\;|;f(p)=0\text{ for all }f\in F\}$$
\item Let $S\subset X$ be a subset of the affine variety. Define the ideal of $S$ in $X$ to be $$\I_X(S)=\{f\in k[X]\;|\;f(s)=0\text{ for all }s\in S\}$$
\end{itemize}
\end{defn}

\begin{lmm}{}{} Let $k$ be a field. Let $X$ be an affine algebraic set of $\A_k^n$. Let $Y$ be an affine algebraic subset of $X$. Then $$k[Y]=\frac{k[X]}{\I_X(Y)}$$
\end{lmm}

\begin{thm}{Relative Nullstellensatz}{} Let $k$ be a field. Let $X$ be an affine algebraic set of $\A_k^n$. Then the following are true. 
\begin{itemize}
\item There is an inclusion reversing bijection $$\left\{\substack{\text{Radical ideals of}\\ k[X]}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Affine subvarieties}\\ W\text{ of }V}\right\}$$
\item There is an inclusion reversing bijection $$\left\{\substack{\text{Prime ideals of}\\ k[X]}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Affine algebraic}\\\text{subvarieties of }X}\right\}$$
\item There is an inclusion reversing bijection $$\left\{\substack{\text{Maximal ideals of}\\ k[X]}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Points in}\\X}\right\}$$
\end{itemize} 
all of which given by $\V_X(-)$ and $\I_X(-)$. \tcbline
\begin{proof}
Using the Absolute version of Hilbert's nullstellensatz, we can establish the following series of bijections: 
\begin{align*}
\left\{\substack{\text{Radical ideals of}\\ k[X]}\right\}\;\;&\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Radical ideals of}\\ k[x_1,\dots,x_n]\text{ that contain }\I(X)}\right\}\tag{The Correspondence Theorem}\\
&\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Affine subvarieties of }\\ \A_k^n\text{ such that }\I(W)\supseteq\I(V)}\right\}\tag{Hilbert's Nullstellensatz}\\
&\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Affine subvarieties}\\ W\text{ of }V}\right\}\tag{Inclusion Reversing Property}\\
\end{align*}
Moreover, this bijection is inclusion reversing because the Hilbert's Nullstellensatz is inclusion reversing. The other two proofs uses the same method. 
\end{proof}
\end{thm}

\begin{thm}{}{} Let $k$ be an algebraically closed field. Let $V\subseteq\A_k^n$ be an affine algebraic set. Then there exists $V_1,\dots,V_n$ affine algebraic varieties such that $$V=V_1\cup\cdots\cup V_n$$ and $V_i$ does not contain $V_j$ for $i\neq j$. Moreover, such a decomposition is unique up to reordering of the varieties. 
\end{thm}

\begin{defn}{Irreducible Components}{} Let $V$ be an affine algebraic set. Define the irreducible components of $V$ to be the full collection of affine algebraic varieties $V_1,\dots,V_n$ in the decomposition of $V$ into irreducible varieties. 
\end{defn}

\begin{lmm}{}{} Let $k$ be a field. Let $X$ be an affine algebraic set of $\A_k^n$. Then there is a bijection $$\left\{\substack{\text{Irreducible}\\\text{Components of } X}\right\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Minimal prime}\\\text{ideals of }k[X]}\right\}$$ given by $V_X(-)$ and $I_X(-)$. 
\end{lmm}

We can now expand our dictionary into: \\
\begin{center}\begin{tabular}{c|c}
Algebra & Geometry\\
\hline
The Coordinate Ring $k[X]$ & The Affine Variety $X$\\
Radical Ideals of $k[X]$ & Affine Sub-varieties in $X$\\
Prime Ideals of $k[X]$ & Affine Algebraic Varieties in $X$\\
Maximal Ideals of $k[X]$ & Points in $X$\\
Minimal Prime Ideals of $k[X]$ & Irreducible Components of $X$
\end{tabular}\end{center}

All such bijections are moreover given by the construction of $V_X(-)$ and $I_X(-)$. 

\subsection{Rational Functions on a Variety (To be removed)}
While polynomial rings are more than sufficient to classify varieties up to isomorphism, we would still like to enlarge the set of functions on a variety. We will do this by introducing rational functions on a variety. 

\begin{defn}{Function Field}{} Let $V$ be an affine variety over a field $k$. Define the function field of $V$ to be $$k(V)=\text{Frac}(k[V])$$ Elements of $k(V)$ are said to be rational functions on $V$. 
\end{defn}

Notice that functions in $k(V)$ are not well defined on all of $V$. Some functions may have poles on $V$. But by restricting to a certain open set in $V$ (namely by removing the poles from the domain), we obtain a well defined rational function. \\~\\

The remaining section constructs a sheaf of rational functions on varieties. Sheaves will not be formally in these notes. 

\begin{defn}{Regular Functions}{} Let $V$ be an affine algebraic variety over a field $k$. Then $f\in k(V)$ is said to be a regular function at $p\in V$ if $$f(x)=\frac{g(x)}{h(x)}$$ for $g,h\in k[V]$ and $h(p)\neq 0$. Let $U$ be an open subset of $V$. We say that $f\in k(V)$ is regular at $U$ if $f$ is regular at all $p\in U$. 
\end{defn}

\begin{defn}{Set of Regular Functions}{} Let $V$ be an affine algebraic variety over a field $k$. Denote $$\mO_V(U)=\{f\in k(V)\;|\;f\text{ is regular at }U\}$$ the set of all regular functions on $U$. 
\end{defn}

\begin{defn}{Local Ring}{} Let $V$ be an affine variety over a field $k$. Let $p\in V$. Define the local ring of $V$ at $p$ to be $$\mO_{V,p}=\{f\in k(V)\;|\;f\text{ is regular at }p\}$$ the set of all regular functions at $p$. 
\end{defn}

It is natural to ask that given a regular map between two varieties. How does all these regular functions and local rings transfer from one to another. In the case of polynomial functions (coordinate rings), the transferral comes from the opposite direction. The case for regular functions are similar. However we will not continue the exposition here since the language of sheaves will make definitions easier. 

\pagebreak
\section{Introduction to Projective Varieties}
\subsection{Homogenous Functions}
\begin{defn}{Homogenous Polynomials}{} Let $k$ be a field. Let $f\in k[x_1,\dots,x_n]$ be a polynomial. We say that $f$ is homogenous of degree $d\in\N$ if each term of $f$ has total degree $d$. Denote $$k_d[x_1,\dots,x_n]=\{f\in k[x_1,\dots,x_n]\;|\;f\text{ is homogenous}\}$$ the subring of all homogenous polynomials of degree $d$ over $k$. 
\end{defn}

\begin{lmm}{}{} If $f$ is homogenous of degree $d$ then $f(\lambda x_0,\dots,\lambda x_n)=\lambda^df(x_0,\dots,x_n)$
\end{lmm}

\begin{prp}{}{} Let $k$ be a field. The polynomial ring $k[x_0,\dots,x_n]$ decomposes into a graded algebra $$k[x_0,\dots,x_n]=\bigoplus_{d=0}^\infty k_d[x_1,\dots,x_n]$$ where $k_d[x_1,\dots,x_n]$ is the abelian group of homogeneous polynomials of degree $d$. Moreover, each element $f\in k[x_0,\dots,x_n]$ can be written uniquely as $$f=f_0+\dots+f_d$$ for $f_i\in k_i[x_0,\dots,x_n]$. 
\end{prp}

\subsection{The Projective Vanishing Locus}
\begin{defn}{Roots of a Homogeneous Polynomial}{} Let $k$ be a field. Let $f\in k[x_0,\dots,x_n]$. Let $[z_0:\cdots:z_n]\in\Prj_k^n$ be a point. We say that $f$ vanishes at $[z_0:\cdots:z_n]$ or write $$f([z_0,\dots,z_n])=0$$ if $f(\lambda z_0,\dots,\lambda z_n)$ for all $\lambda\in k^\times$. 
\end{defn}

Thanks to lemma 4.1.2, we can see that homogeneous polynomials are well defined as functions of the projective space. 

\begin{lmm}{}{} Let $k$ be a field. Let $f\in k[x_0,\dots,x_n]$. If $f$ is homogeneous and $f$ vanishes at $(z_0,\dots,z_n)\in k^{n+1}$, then $$f([z_0:\cdots:z_n])=0$$
\end{lmm}

Conversely, we can ask if every well defined polynomials in the projective space homogeneous? Turns out this is not true, because while sum of homogeneous polynomials are not homogeneous, they can still vanish commonly on different representatives. 

\begin{lmm}{}{} Let $k$ be a field. Let $f\in k[x_0,\dots,x_n]$ be a polynomial. Let $[z]\in\Prj_k^n$. Write $f=f_0+\dots+f_d$ as its unique decomposition into homogeneous parts. If $f([z])=0$, then $f_i([z])=0$ for all $0\leq i\leq d$. 
\end{lmm}

\subsection{Projective Varieties}
\begin{defn}{Projective Varieties}{} Let $k$ be a field. Let $F$ be a subset of homogeneous polynomials of $k[x_0,\dots,x_n]$. Define the vanishing locus of $F$ by $$\V^H(F)=\{[z]\in\Prj_k^n\;|\;f([z])=0\text{ for all }f\in F\}$$ Subsets of $\Prj_k^n$ of this form is called projective varieties. 
\end{defn}

\begin{prp}{}{} Let $k$ be a field. The following are true regarding the vanishing locus. 
\begin{itemize}
\item Closed under countable intersections: Let $\{F_i\;|\;i\in I\}$ be a collection of subsets of homogeneous polynomials of $k[x_0,\dots,x_n]$. Then $$\bigcap_{i\in I}\V^H(F_i)=\V^H\left(\bigcup_{i\in I}F_i\right)$$
\item Closed under finite unions. Let $\{f_i\;|\;i\in I\}$ and $\{g_j\;|\;j\in J\}$ be two subsets homogeneous polynomials of $k[x_0,\dots,x_n]$. Then $$\V^H(\{f_i\;|\;i\in I\})\cup\V(\{g_j\;|\;j\in J\})=\V^H(\{f_ig_j\;|\;i\in I, j\in J\})$$
\item $\V^H(\emptyset)=\Prj_k^n$
\item $\V^H(1)=\emptyset$. 
\end{itemize}
\end{prp}

\begin{defn}{Zariski Topology}{} Let $k$ be a field. Define the Zariski topology on $\Prj_k^n$ to be the topology where the closed sets are precisely the projective varieties of $\Prj_k^n$. 
\end{defn}

\subsection{The Projective Nullstellensatz}
\begin{defn}{Ideal Generated by a Projective Variety}{} Let $k$ be a field. Let $X\subseteq\Prj^n$ be a subset of points. Define the ideal generated by $X$ to be $$\I^H(X)=\langle f\in k[x_0,\dots,x_n]\;|\;f\text{ is homogeneous and }f([x])=0\text{ for all }[x]\in X\rangle$$
\end{defn}

If $X$ happens to be a projective variety, $\I^H$ takes a rather nice form. 

\begin{lmm}{}{} Let $k$ be a field. Let $V\subseteq\Prj^n$ be a projective variety. Then $$\I^H(V)=\{f\in k[x_0,\dots,x_n]\;|\;f([z])=0\text{ for all }[z]\in V\}$$ Moreover, it is radical and homogeneous. 
\end{lmm}

We have the projective version of the Nullstellensatz. It works exactly the same as that of the affine version. 

\begin{thm}{The Projective Nullstellensatz I}{} Let $J\subseteq\C[x_1,\dots,x_n]$ be an homogenous ideal. Then $$I^H(V(J))=\sqrt{J}$$
\end{thm}

\begin{thm}{The Projective Nullstellensatz II}{} Let $k$ be an algebraically closed field. Then there is an inclusion reversing bijection $$\left\{\substack{\text{Homogenous Radical Ideals}\\\text{of }k[x_0,\dots,x_n]}\right\}\setminus\{(z_0,\dots,z_n)\}\;\;\overset{\text{1:1}}{\longleftrightarrow}\;\;\left\{\substack{\text{Projective varieties}\\\text{of }\Prj^n}\right\}$$ given by $\V^H(-)$ and $\I^H(-)$. 
\end{thm}

\pagebreak
\section{The Relation Between Affine and Projective Varieties}
\subsection{The Affine Cone and Projectivization}
\begin{defn}{Affine Cones}{} Let $k$ be a field. Let $X$ be affine variety of $\A_k^n$. We say that $X$ is an affine cone if the following are true. 
\begin{itemize}
\item $0\in X$
\item $\lambda x\in X$ for all $x\in X$ and $\lambda\in k^\times$
\end{itemize}
\end{defn}

\begin{defn}{Projectivization}{} Let $k$ be a field. Let $X$ be an affine variety of $\A_k^n$. Let $p:\A_k^n\setminus\Prj_k^n$ denote the projection map. Define the projectivization of $X$ to be the image $$P(X)=p(X\setminus\{0\})$$
\end{defn}

\begin{defn}{The Cone of a Projective Variety}{} Let $k$ be a field. Let $X$ be an projective variety of $\Prj_k^n$. Let $p:\A_k^n\setminus\Prj_k^n$ denote the projection map. Define the cone of $X$ to be $$C(X)=\{0\}\cup p^{-1}(X)$$
\end{defn}

\begin{lmm}{}{} Let $k$ be a field. Let $X$ be a projective variety Then the cone $C(X)$ is an affine cone. 
\end{lmm}

\begin{lmm}{}{} Let $k$ be a field. Then the following are true. 
\begin{itemize}
\item Let $F$ be a subset of non-constant homogeneous polynomials of $k[x_0,\dots,x_n]$. Then $\V(F)$ is an affine cone. 
\item Let $X$ be an affine cone in $\A_k^n$. Then $\I(X)$ is a homogeneous ideal. 
\end{itemize}
\end{lmm}

\begin{prp}{}{} Let $k$ be a field. Then there is a bijection $$\text{Cones in }\A_k^n\;\;\overset{1:1}{\longleftrightarrow}\text{Projective Varieties in }\Prj_k^n$$ given by the maps $P(-)$ and $C(-)$. 
\end{prp}

\subsection{The Homogeneous Coordinate Ring}
\begin{defn}{The Homogeneous Coordinate Ring}{} Let $k$ be a field. Let $V$ be a projective variety of $\Prj_k^n$. Define the homogeneous coordinate ring of $V$ by $$k^H[V]=\frac{k[x_0,\dots,x_n]}{\I^H(V)}$$
\end{defn}

Note: This is the standard coordinate ring on the affine cone: It is the standard coordinate ring on $C(X)$. We should not think of the homogeneous coordinate ring as the ring of polynomials on $V$. We should think of it as the ring of polynomials on $C(X)$. \\

Moreover, this ring depends on the choice of embedding of $X$ in $\A_k^{n+1}$. This means that $V_1\cong V_2$ as projective varieties but they may have non-isomorphic coordinate rings. 

\subsection{Homogenization and Dehomogenization}
\begin{defn}{The Dehomogenization Map}{} Let $k$ be a field. Let $0\leq i\leq n$. Define the dehomogenization map with respect to $z_i$ to be the map of sets $$\phi_i:\C_d[z_0,\dots,z_n]\to\C[x_1,\dots,x_n]$$ given by the formula $$f(z_0,\dots,z_n)\mapsto\frac{f(z_0,\dots,z_n)}{z_i^d}\overset{\text{Substitute }x_k=\frac{z_i}{z_k}}{\longrightarrow}\text{Polynomial in }x_1,\dots,x_n$$
\end{defn}

\begin{prp}{}{} Let $V=\V^H(F)$ be a projective variety over $\Prj_\C^n$. Let $\varphi_i:U_i\overset{\cong}{\longrightarrow}\A_\C^n$ be the transition chart of $\Prj_\C^n$ with respect to $z_i\neq 0$. Then there is a bijection $$\varphi_i(V\cap U_i)=\V(\{\phi_i(f)\;|\;f\in F\})$$
\end{prp}

We use the hat symbol to mean that we omit the element. So $k[x_1,\hat{x}_2,x_3]$ means the polynomial ring in variables $x_1$ and $x_3$. 

\begin{defn}{Homogenization}{} Let $k$ be a field. Define the homogenization map $$(-)_i^+:k[x_0,\dots,\hat{x}_i,\dots,x_n]\to k[x_0,\dots,x_n]$$ as follows. If $f\in k[x_1,\dots,x_n]$ is such that the homogeneous terms of $f$ is given by $$f=g_0+\dots+g_m$$ and $d$ is the total degree of $f$, then $$(f)_i^+(x_0,\dots,x_n)=x_i^dg_0+x_i^{d-1}g_1+\dots+g_d$$
\end{defn}

\begin{lmm}{}{} Let $k$ be a field. Let $f\in k[x_1,\dots,x_n]$. Then the homogenization $(-)_i^+$ of $f$ is homogeneous. 
\end{lmm}

\begin{prp}{}{} Let $f\in\C[x_1,\dots,x_n]$. Let $F\in\C[x_0,\dots,x_n]$. Then the following are true regarding homogenization and dehomogenization. 
\begin{itemize}
\item The composition of homogenization and dehomogenization gives the identity: $$\phi_i((f)_i^+)=f$$
\item The composition of dehomogenization and homogenization gives the identity: $$(\phi_i(F))_i^+=G$$ where $F=x_i^dG$ such that $x_i$ does not divide $G$. 
\item $\phi_i(F_1)=\phi_i(F_2)$ if and only if $F_1=z_i^{k_1}G$ and $F_2=z_i^{k_2}G$ for some $k_1,k_2$ such that $z_1,z_2$ does not divide $G$. 
\end{itemize}
\end{prp}

\begin{crl}{}{} Let $F\subset\C[x_0,\dots,\hat{x}_i,\dots,x_n]$ be a subset of polynomials. Let $\varphi_i:U_i\overset{\cong}{\longrightarrow}\A_\C^n$ be the transition chart of $\Prj_\C^n$ with respect to $z_i\neq 0$. Then there is a bijection $$\varphi_i(\V^H(\{(f_j)_i^+\;|\;f_j\in F\})\cap U_i)=\V(F)$$
\end{crl}

\begin{crl}{}{} Suppose that $U_i$ inherits the Zariski topology from $\Prj^n$. Then the transition chart $$\psi_i:U_i\to\A^n$$ is a homeomorphism. 
\end{crl}

\subsection{Projective Closure}
In general, for $W$ an affine variety of $\C^n$, considering $\C^n$ in the open cover $U_0$, $W$ may not be closed and so may not be a projective variety. However the closure certainly is. 

\begin{defn}{Projective Closure}{} Let $V$ be an affine variety in $\A_\C^n$. Choose an affine piece $U_i\subset\Prj_\C^n$. Define the projective closure of $V$ to be the closure of $V$ considered as a set in the projective space $$V\subseteq U_i\subset\Prj_\C^n$$
\end{defn}

Given an affine variety $W\subseteq\A_k^n$, even if we chose an identification $\A_k^n\cong U_i$ of some affine piece of $\Prj^n$, there are still multiple choices of projective varieties $V$ for which $V\cap U_i\cong W$. The projective closure is precisely the smallest of such choice. 

\begin{eg}{}{} Consider the example $T=\V(y-x^2,z-xy)\subseteq\A_\C^3$. Consider the affine piece $$U_3=\{[x:y:z:1]\;|\;x,y,z\C\}\subset\Prj_\C^3$$ Define $$V=\V((y-x^2)_3^+,(z-xy)_3^+)=\V(wy-x^2,zw-xy)\subset\Prj_\C^3$$ By construction, we have that $U_3\cap V=T$ by setting $w=1$. Now consider $V\setminus U_3=V\cap\V(w)$. We deduce that this is given by $x=0$ and so $V\setminus U_3=\V(x,w)$ which is a line in $\Prj_\C^3$. \\~\\

In other words, we took the homgenization of the polynomials of the variety. But we found out that this was way bigger than the original variety $T$. Indeed there is a whole projective line. \\~\\

To obtain the smallest projective variety whose intersection with affine pieces give $T$, we define $$\overline{T}=\V((y-x^2)_3^+,(z-xy)_3^+,(xz-y^2)_3^+)=\V(wy-x^2,wz-xy,xz-y^2)$$ Again we can see that intersecting with $U_3$ returns the original variety $T$. Now quick calculation shows that $$\overline{T}\setminus U_3=\{[0:0:1:0]\}$$ because we set $w=0$ and the extra generator we threw in takes effect. 
\end{eg}

\begin{prp}{}{} Let $I$ be a radical ideal of $\C[x_0,\dots,\hat{x}_i,\dots,x_n]$. Let $W=\V(I)\subseteq\A^n$. Denote $\overline{W}$ the projective closure of $W$. Then $$(\{(f)_i^+\;|\;f\in I\})=\I^H(\overline{W})$$ \tcbline
\begin{proof}
Let $F\in(\{(f)_i^+\;|\;f\in I\})$ be a polynomial. Then we have that $$F=\sum_{i\in I} G_j(f_j)_i^+$$ for some $G_j\in\C[x_0,\dots,x_n]$. Now we have that $$\phi_i(F)=\sum_{i\in I}\phi_i(G_j)\phi_i((f_j)_i^+)=\sum_{i\in I}\phi_i(G_j)f_i$$ Since $f_i\in I$ and $I$ is an ideal, we conclude that $\phi_i(F)\in I$ so that $W\subseteq\V(\phi_i(F))$. Under the identification of an affine piece of the projective space, we deduce that $W\subseteq\V(\phi_i(F))=\V^H(F)$. By property of closure and the fact that $\V^H(F)$ is closed in $\Prj^n$, we conclude that $\overline{W}\subseteq\V^H(F)$. Hence $F$ vanishes on $\overline{W}$ and $F\in\I^H(\overline{W})$. \\~\\

Now suppose that $F\in\I^H(\overline{W})$. Taking the projective vanishing locus on both sides give $\overline{W}\subseteq\V^H(F)$. Since the closure is taken in the projective space, intersecting with an affine piece returns $W$, and so we have $$\overline{W}\cap U_i=W\subset\V(\phi_i(F))$$ Then this means that $\phi_i(F)\in\I(W)=I$. This means that $(\phi_i(f))_i^+\in(\{(f)_i^+\;|\;f\in I\})$ and $F=z_i^d(\phi_i(f))_i^+\in(\{(f)_i^+\;|\;f\in I\})$. Hence we conclude. 
\end{proof}
\end{prp}

\subsection{Morphisms of Projective Varieties}
\begin{defn}{Morphisms of Projective Varieties}{} Let $V\subseteq\Prj^n$ and $W\subseteq\Prj^m$ be projective varieties. Let $F:V\to W$ be a map (of sets) from $V$ to $W$. We say that $F$ is a morphism of projective varieties if for each $p\in V$, there exists homogeneous polynomials $F_0,\dots,F_m\in\C[x_0,\dots,x_n]$ of the same degree and an open neighbourhood $U$ of $p$ such that the following holds. 
\begin{itemize}
\item $V(F_0,\dots,F_m)\cap U=\emptyset$ (They cannot all vanish at the same time)
\item $F|_U:U\to W$ agrees with the map $U\to\Prj^m$ defined by $$[z_0:\cdots:z_n]\mapsto[F_0(z_0,\dots,z_n):\cdots:F_m(z_0,\dots,z_n)]$$
\end{itemize}
\end{defn}

This defintion ensures that when a morphism of projective varities is restricted to its open covers $\A^n$, it defines a morphism of affine varieties. They are locally affine varieties. 

\begin{defn}{Isomorphism of Projective Varieties}{} A morphism of projective varieties $F:V\to W$ is an isomorphism if there exists a morphism $G:W\to V$ such that $G$ is the inverse of $F$. In this case we say that $V$ and $W$ are isomorphic. 
\end{defn}

In general, isomorphic projective varieties does not have isomorphic homogeneous coordinate rings. We remedy this by introducing a stronger notion of equivalence between projective varieties. 

\begin{defn}{Projectively Equivalent}{} Let $k$ be a field. Let $V,W$ be projective varieties in $\Prj_k^n$. We say that $V$ and $W$ are projectively equivalent if there exists an isomorphism $F:\Prj_k^n\to\Prj_k^n$ that induces an isomorphism $$F|_V:V\overset{\cong}{\longrightarrow}W$$ of projective varieties. 
\end{defn}

\begin{lmm}{}{} Let $V\subseteq\Prj_\C^n$ and $W\subseteq\Prj_\C^n$ be projective varieties. If $V$ and $W$ are projectively equivalent, then their homogeneous coordinate rings are isomorphic. 
\end{lmm}

\begin{lmm}{}{} Let $F,G\in\C[x,y,z]$ be two irreducible homogeneous polynomials of degree $2$. Then $\V(F)$ and $\V(G)$ are projectively equivalent. 
\end{lmm}

\pagebreak
\section{Quasi-Projective Varieties}
\subsection{Quasi-Projective Varieties}
In this section we attempt to unify the two types of varieties, affine and projective into one unified theory. 

\begin{defn}{Locally Closed Subsets}{} A locally closed subset of a topological space $X$ is a subset of the form $U\cap V$ where $U$ is open in $X$ and $V$ is closed in $X$. 
\end{defn}

\begin{defn}{Quasi-Projective Varieties}{} A quasiprojective variety is a locally closed subset of $\Prj^n$. 
\end{defn}

\begin{lmm}{}{} Affine varieties and projective varieties are both quasiprojective varieties. \tcbline
\begin{proof}
Let $W\subseteq\A^n$ be an affine variety. Then $W$ is closed and thus $W=\overline{W}\cap U_0$ where $\overline{W}$ is the closure of $W$ in $\Prj^n$ by $\A^n\cong U_0\subseteq\Prj^n$. \\~\\
Let $V\subseteq\Prj^n$ be a projective variety. Then $V$ being closed implies $V=V\cap\Prj^n$ trivially. 
\end{proof}
\end{lmm}

\begin{lmm}{}{} Any open subset of $\Prj^n$ or $\A^n$ is a quasiprojective variety. 
\end{lmm}

\subsection{Morphisms of Quasi-Projective Varieties}
\begin{defn}{Morphisms of Quasi-Projective Varities}{} Let $X\subseteq\Prj^n$ and $Y\subseteq\Prj^m$ be quasiprojective varieties. A morphism from $X$ to $Y$  is a map $F:X\to Y$ such that for all $p\in X$, there exists an open neighbourhood $U_p$ together with homogenous polynomials $F_0,\dots,F_m\in k[x_0,\dots,x_n]$ of the same degree such that 
\begin{itemize}
\item $V(F_0,\dots,F_m)\cap U=\emptyset$
\item $F|_U$ agrees with $[x_0,\dots,x_n]\to[F_0(x_0,\dots,x_n),\dots,F_m(x_0,\dots,x_n)]$
\end{itemize}
\end{defn}

\begin{lmm}{}{} Every morphism of affine or projective varieties is a morphism of quasiprojective varieties. 
\end{lmm}

\subsection{Redefining Varieties}
\begin{defn}{Extended Definition of Affine Varities}{} A quasiprojective variety is said to be affine if it is isomorphic to a closed subset of affine space. 
\end{defn}

\begin{defn}{Extended Definition of Projective Varities}{} A quasiprojective variety is said to be projective if it is isomorphic to a closed subvariety of projective space. 
\end{defn}

\begin{defn}{Basic Open Sets}{} Let $V$ be Zariski closed on $\A^n$. Let $f\in k[V]$. Then $$D(f)=V\setminus V(f)$$ is said to be a basic open set. 
\end{defn}

In other words, $D(f)$ is exactly the points of $V$ where $f$ is not zero. Some literature like to use $V_f$ for notation. 

\begin{prp}{}{} Let $V$ be Zariski closed on $\A^n$. Let $f\in k[V]$. Then 
\begin{itemize}
\item $D(f)$ is an affine algebraic variety
\item Every open subset of $V$ is a union of basic open sets
\item The set of all basic open sets of $X$ forms a basis for the Zariski Topology
\end{itemize}
\end{prp}

\begin{prp}{}{} Every quasiprojective variety is locally affine. 
\end{prp}

\subsection{Regular Functions}
The following definition is simply a special case of regular maps, as in regular functions are simply regular maps with codomain $\A^1$. 

\begin{defn}{Regular Functions on Affine Varieties}{} Let $U$ be an open subset of an affine variety $V$. A complex valued function $f:U\to\C$ is regular at a point $p\in U$ if there exists functions $g,h\in\C[V]$ such that $h(p)\neq 0$ and that $$f(x)=\frac{g(x)}{h(x)}$$ in some neighbourhood of $p$. Moreover, $f$ is said to be regular on $U$ if it is regular at every point of $U$. The set of all regular functions is denoted by $$\mathcal{O}_V(U)=\{f:U\to\C\;|\;f\text{ is regular on }U\}$$
\end{defn}

\begin{defn}{Regular Functions on Quasi-Projective Varities}{} Let $U$ be an open subset of a quasiprojective variety $V$. A complex valued function $f:U\to\C$ is regular at a point $p\in U$ if there some affine open set containing $p$ on which $f$ is regular at $p$. 
$f$ is said to be regular on $U$ if it is regular at every point of $U$. \\~\\
The set of all regular functions is denoted by $\mathcal{O}_V(U)$. 
\end{defn}

\begin{lmm}{}{} For any $U\subset V$ open and $V$ a quasiprojective variety, $\mathcal{O}_V(U)$ is a $\C$-algebra. 
\end{lmm}

\begin{defn}{Ring of Germs of Regular Functions}{} Let $p$ be a point of a variety $X$. Define the local ring of $p$ on $X$ to be $$\mathcal{O}_{V,p}=\{(U,f)\;|\;U\subseteq X\text{ is open}, p\in U, f\text{ is regular on }U\}/\sim$$ where $(U,f)\sim(V,g)$ if and only if $f=g$ on $U\cap V$. 
\end{defn}

\begin{prp}{}{} Let $X$ be a variety and $p\in X$. Then the ring of germs $\mathcal{O}_{X,p}$ is a local ring. 
\end{prp}

\begin{defn}{Function Field}{} Let $X$ be a variety. Define the function field of $X$ to be $$K(X)=\{(U,f)|U\subseteq X\text{ is open}, f\text{ is regular on }U\}/\sim$$ where $(U,f)\sim(V,g)$ if and only if $f=g$ on $U\cap V$. Elements of $K(X)$ are called rational functions on $X$. 
\end{defn}

\begin{lmm}{}{} Let $X$ be a variety. Then the function field $K(X)$ of $X$ is a field. 
\end{lmm}

\begin{lmm}{}{} Let $X$ be a variety. For any point $p$, there are natural injective maps $\mathcal{O}_X(X)\to\mathcal{O}_{X,p}\to K(X)$. 
\end{lmm}

\begin{prp}{}{} Let $X$ and $Y$ be isomorphic varieties. Then $\mathcal{O}_X(X)\cong\mathcal{O}_Y(Y)$, $K(X)\cong K(Y)$ and if $p\in X$ maps to $q\in Y$, then $\mathcal{O}_{X,p}\cong\mathcal{O}_{Y,q}$. 
\end{prp}

\begin{thm}{}{} Let $V$ be an affine variety. Let $U$ be an open subset of $V$. 
\begin{itemize}
\item There is a $\C$-algebra homomorphism $\C[V]\to\mathcal{O}_V(U)$ given by restriction of functions
\item The above map is injective if $U$ is dense in $V$
\item If $V$ is an irreducible affine variety, then the map is surjective and an isomorphsim. 
\end{itemize}
\end{thm}

\begin{thm}{}{} Let $V\subseteq\A^n$ be an affine variety. Let $p\in V$ be a point. Then the following are true. 
\begin{itemize}
\item $\mathcal{O}_V(V)\cong\C[V]$
\item Let $m_p=\{f\in\C[V]|f(p)=0\}$ be the ideal of functions that vanish at $p$. Then the map $p\mapsto m_p$ gives a one to one correspondence between points of $V$ and the maximal ideals of $\C[V]$
\item For each $p\in V$, $\mathcal{O}_{V,p}\cong\C[V]_{m_p}$ and $\dim(\mathcal{O}_{V,p})=\dim(X)$
\item $K(X)\cong\text{Frac}(\C[V])$ and $K(X)$ is a finitely generated extension field of $\C$. 
\end{itemize}
\end{thm}

\begin{thm}{}{} Let $X\subseteq\Prj^n$ be a projective variety. Let $p\in V$. Then the following are true. 
\begin{itemize}
\item $\mathcal{O}_V(V)\cong\C$
\item Let $m_p=\{f\in\C[V]|f\text{ is homogenous and }f(p)=0\}$ be the ideal of functions that vanish at $p$. Then $\mathcal{O}_{V,p}=\C[V]_{m_p}$
\item $K(X)\cong\C[V]_{(0)}$
\end{itemize}
\end{thm}

\pagebreak
\section{Classical Constructions}
\subsection{Veronese Maps}
\begin{defn}{Veronese Maps}{} The $d$th veronese map of $\Prj^n$ is the morphism $\nu_d:\Prj^n\to\Prj^m$ defined by $$\nu_d([x_0:\cdots:x_n])=[x_0^d:x_0^{d-1}x_1:\cdots:x_n^d]$$ where $m=\binom{d+n}{n}-1$. 
\end{defn}

\begin{prp}{}{} The veronese mapping $\nu_d$ defines an isomorphism of $\Prj^n$ onto its image. 
\end{prp}

\subsection{Segre Maps}
\begin{defn}{General Segre Maps}{} Define the general Segre map $\sum_{m,n}:\Prj^m\times\Prj^n\to\Prj^{(m+1)(n+1)-1}$ by $$\sum_{m,n}([x_0:\cdots:x_m],[y_0:\cdots:y_n])=[x_0y_0:x_0y_1:\cdots:x_iy_j:\cdots:x_my_n]$$
\end{defn}

\subsection{Grassmannians}
\begin{defn}{Grassmannians}{} Let $n\in\N^+$. Let $k\in\N$ with $0\leq k\leq n$. Denote $G(k,n)$ the set of all $k$-dimensional linear subspaces of $\C^n$. 
\end{defn}

Similar to how $G(1,n)=\Prj^{n-1}$, $G(k,n)$ is essentially the $k-1$ dimensional projective subspaces of $\Prj^{n-1}$. 

\begin{lmm}{}{} $G(k,n)$ can be identified with the set $$G=\frac{\{M\in M_{k\times n}(\C)|M\text{ has full rank }\}}{\text{ Orbits of }GL(k)}$$ \tcbline
\begin{proof}
Let $V$ be a $k$-dimensional vector subspace of $\C^n$. Choose basis vectors $(a_{j1},\dots,a_{jn})$ where $j=1,\dots,k$ for $V$. Form the row matrix of basis vectors $$A=\begin{pmatrix}a_{11} & \cdots & a_{1n}\\\vdots & \ddots & \vdots\\ a_{n1} & \cdots & a_{nn}\end{pmatrix}$$
This matrix is formed by a basis thus the rows must be linearly independent, which means it achieves full rank. Two matrices span the same subspace if and only if there exists an invertible matrix of dimension $k$ such that $(a_{ij})=g(b_{ij})$. So we can quotient out extra elements in $M_{k\times n}(\C)$ that represent the same vector subspace to get an identification of $G(k,n)$: $$G=\frac{\{M\in M_{k\times n}(\C)|M\text{ has full rank }\}}{\text{ Orbits of }GL(k)}$$ 
\end{proof}
\end{lmm}

\begin{defn}{Plucker Embedding}{} Denote $\Delta_{i_1,\dots,i_k}$ the $k\times k$ subdeterminant of $A\in M_{k\times n}(\C)$. formed by the columns $i_1,\dots,i_k$ in $A$. The Plucker embedding is the map $\phi:G\to\Prj^{\binom{n}{k}-1}$ given by $$\phi\left(\begin{pmatrix}a_{11} & \cdots & a_{1n}\\\vdots & \ddots & \vdots\\ a_{n1} & \cdots & a_{nn}\end{pmatrix}\right)=[\Delta_{1,\dots,k}:\dots:\Delta_{i_1,\dots,i_k}:\dots:\Delta_{n-k+1,\dots,n}]$$ 
\end{defn}

\begin{prp}{}{} The Plucker embedding is well defined and is injective. \tcbline
\begin{proof}
This map is well defined since for any two matrices of rank $k$ that span the same subspace that differ by multiplication of $G\in GL(k)$, they give the same point since multiplying $G$ changes the subdeterminants by a factor of $\det(G)$, and in projective space they mean the same point. Moreover, since matrices in $G$ has full rank, there must be at least one subdeterminant is nonzero. 
\end{proof}
\end{prp}

\begin{thm}{}{} The Grassmannians $G(k,n)$ can be embedded as a complex submanifold of $\Prj^{\binom{n}{k}-1}$. \tcbline
\begin{proof}
Using the Plucker embedding, we see that $G(k,n)$ can be identified with a subset of $\Prj^{\binom{n}{k}-1}$. We now need to give an atlas to it. An open cover of $G(k,n)$ in the projective space is given by $$U_{(i_1,\dots,i_k)}=\{V\in Gr(k,n)|\Delta_{i_1,\dots,i_k}\neq 0\}$$. Since the submatrix formed by the columns $i_1,\dots,i_k$ is nonzero, we can find a representation of the subspace where each columns $i_1,\dots,i_k$ is the unit vector $e_1,\dots,e_k$. The rest of the $k(n-k)$ coordinates can be used to as an identification in the atlas. This means that we have a map $U_{i_1,\dots,i_k}\to\C^{k(n-k)}$. \\~\\
The transition maps between two open cover is given by the rational functions $\frac{\Delta_{i_1,\dots,i_k}}{\Delta_{j_1,\dots,j_k}}$, which is clearly analytic. 
\end{proof}
\end{thm}

\begin{thm}{}{} The Grassmannians $G(k,n)$ is a projective algebraic variety. 
\end{thm}


\pagebreak
\section{The Tangent Space}
\subsection{Dimensions}
\begin{defn}{Dimension (Topological)}{} Let $k$ be a field. Let $X$ be a variety of $\A_k^n$. Define the dimension of $X$ to be $$\dim(X)=\sup_{\substack{Z_0,\dots,Z_n\subseteq X\\\text{irreducible varieties}}}\{n\in\N\;|\;Z_0\subset Z_1\subset\dots\subset Z_n\}$$
\end{defn}

Some immediate consequences can be deduced. For instance, if $X$ is a point then $\dim(X)=0$. Also, if $Z_1\subset\cdots\subset Z_m$ is such a maximal chain for some space $X$, then $\dim(Z_d)=d$ and $Z_m=X$. 

\begin{eg}{}{} Let $k$ be a field. Then any finite collection of points in $\A_k^n$ is $0$-dimensional. \tcbline
\begin{proof}
If $V$ is a finite set of points of $\A_k^n$, then its irreducible components are precisely all the points of $V$ as a set. Since $V$ itself is not irreducible, the maximal chain of irreducible subvarieties is just given by any single point in the irreducible components of $V$. Thus $V$ is $0$-dimensional. 
\end{proof}
\end{eg}

This is a more general observation. 

\begin{lmm}{}{} Let $k$ be a field. Let $V$ be a variety of $\A_k^n$. Then $$\dim(V)=\text{max}\{\dim(V_k)\;|\;V_1,\dots,V_n\text{ the irreducible components of }V\}$$ \tcbline
\begin{proof}
Write $m=\text{max}\{\dim(V_k)\;|\;V_1,\dots,V_n\text{ the irreducible components of }V\}$. Suppose that $Z_0\subset\cdots\subset Z_d$ is a maximal chain of irreducible subvarieties of $V$. Suppose that $V_1,\dots,V_n$ are the irreducible components of $V$. We now have that $$Z_d=Z_d\cap X=Z_d\cap(V_1\cup\cdots\cup V_n)=(Z_d\cap V_1)\cup\cdots\cup(Z_d\cap V_n)$$ Since $Z_d$ is irreducible, we have that $Z_d=Z_d\cap V_k$ for some $k$. Hence $Z_d\subseteq V_k$. If $Z_d$ is a strict subset of $V_k$, then $Z_0\subset\cdots\subset Z_d\subset V_k$ is a new maximal chain of irreducible subvarieties of $V$. This is a contradiction. Thus $Z_d=V_k$ and so $Z_0\subset\cdots\subset Z_{d-1}\subset V_k$ is a chain of irreducible subvarieties of $V_k$ that may not be maximal. This means that $\dim(V)\leq\dim(V_k)\leq m$. This concludes the proof that $$\dim(X)\leq m$$~\\

Now suppose that $\dim(V_k)$ achieves the number $m$ for some $k$. Let $Y_1\subset\cdots\subset Y_{\dim(V_k)}$ be a maximal chain of irreducible subvarieties of $V_k$. This chain can also be considered as a chain of irreducible subvarieties of $V$. This means that $\dim(V_k)\leq\dim(V)$. In other words, we have that $$m\leq\dim(X)$$ We conclude that $\dim(X)=m$. 
\end{proof}
\end{lmm}

\begin{lmm}{}{} Let $k$ be a field. Let $X,Y\subseteq\A_k^n$ be varieties. If $X\subset Y$ then $\dim(X)\leq\dim(Y)$. \tcbline
\begin{proof}
Suppose that $Z_0\subset\cdots\subset Z_n$ is a maximal chain of irreducibles of $X$. Then it is also a chain of irreducibles of $Y$ that may not be maximal. Thus $\dim(X)\leq\dim(Y)$. 
\end{proof}
\end{lmm}

\begin{prp}{}{} Let $k$ be a field. Let $X\subseteq\A_k^n$ and $Y\subseteq\A_k^m$ be varieties. Let $f:X\to Y$ be a regular map. Then the following are true. 
\begin{itemize}
\item If $f$ is closed and surjective and $X,Y$ are irreducible, then $\dim(X)\geq\dim(Y)$
\item If $f$ is surjective, then $\dim(X)\geq\dim(Y)$
\item If $f$ is dominant, then $\dim(X)\geq\dim(Y)$
\end{itemize} \tcbline
\begin{proof}~\\
\begin{itemize}
\item We induct on $\dim(Y)$. Suppose that $\dim(Y)=0$ for the base case. Then $\dim(X)\geq 0$. Now suppose that there exists some $n\in\N$ such that the statement is true for $\dim(Y)\leq n$. Now suppose that $\dim(Y)=n+1$. Let $Y_0\subset\cdots\subset Y_{n+1}=Y$ be a maximal chain of irreducible subvarieties of $Y$. Notice that $\dim(Y_n)\leq\dim(Y)$ by the above. Together with the fact that $Y_0\subset\cdots\subset Y_n$ is a chain of irreducible subvarieties of $Y$ we conclude that $\dim(Y_n)=n$. Now $f^{-1}(Y_n)$ is closed in $X$ and is a subvariety of $X$. Decompose $f^{-1}(Y_n)$ into irreducible components $V_1,\dots,V_k$. By surjectivity, we have that $f(f^{-1}(Y_n))=Y_n$, and we have that $$Y_n=f(V_1)\cup\cdots\cdots f(V_k)$$ Since $f$ is a closed map, each $f(V_k)$ is also closed. But $Y_n$ is irreducible. So $f(V_k)=Y_n$ for some $k$. This means that $f|_{V_k}:V_k\to Y_n$ is surjective. By inducetive hypothesis, $\dim(V_k)\geq\dim(Y_n)=n$. But $V_i$ is strictly smaller than $X$ and $V_k$ and $X$ are both irreducible. This means that $$\dim(X)>\dim(V_k)\geq\dim(Y_n)=n$$ This implies that $\dim(X)\geq n+1=\dim(Y)$ and so we are done. 
\end{itemize}
\end{proof}
\end{prp}

\begin{lmm}{}{} $\dim(\Prj^n)=\dim(A^n)=n$. 
\end{lmm}

\begin{thm}{}{} Let $X\subset\A^n$ be an affine variety. Then $$\dim(X)=\dim(k[X])$$
\end{thm}

\begin{prp}{}{} A variety $V$ in $\A^n$ has dimension $n-1$ if and only of it is the zero set of a single nonconstant irreducible polynomial in $k[x_1,\dots,x_n]$. 
\end{prp}

\subsection{The Tangent Space of Affine Varieties}
We first restrict our studies to affine varieties. There are two ways to define tangent spaces, one by the usual algebraic sense, as in the derivative being $0$, the other is more geometric. The following definition comes as a result of the usual calculus we are familiar with. 

\begin{defn}{Intersection Multiplicity}{} Let $L=\{ta|t\in\C\}$ for $a\in\C^n\setminus\{0\}$ be a line in $\C^n$. Let $X=V(f_1,\dots,f_m)\subseteq\C^n$ be an affine variety. We say that the intersection multiplicity of $L$ with $X$ is the multiplicity of $t=0$ as a root of the polynomial $f(t)=\gcd(F_1(ta),\dots,F_m(ta))$. 
\end{defn}

\begin{defn}{Tangent to an Affine Variety}{} Let $X$ be an affine variety. A line $L$ is tangent to $X$ at $0$ if it has intersection multiplicity $\geq 2$ with $X$ at $0$. 
\end{defn}

\begin{defn}{Tangent Space}{} Let $X$ be an affine variety and $p\in X$. Define the tangent space of $p$ in $X$ to be the set of all lines tangent to $X$ at $p$. 
\end{defn}

Recall that we have the notion of a differential in manifolds. Since all our functions we consider are polynomials, we can simply define derivatives by the formula for differentiating polynomials, that is without the notion of limits. This leads to the following equivalent definition of a tangent space. 

\begin{prp}{}{} Let $V\subset\A^n$ be an affine variety. Then the tangent space of $V$ at a point $p\in V$ is exactly equal to $$T_pV=\left\{q\in\A^n\bigg{|}dF|_p(x-p)=\sum_{k=1}^n\frac{\partial F}{\partial x_k}\bigg{|}_p(q_k-p_k)=0\right\}$$
\end{prp}

In particular, the tangent space is a vector space by identifying the point $p$ as the origin and each differential $\frac{\partial F}{\partial x_1}\bigg{|}_p,\dots,\frac{\partial F}{\partial x_n}\bigg{|}_p$ as the standard basis. 

\begin{prp}{}{} Let $V\subseteq\C^n$ be an affine algebraic variety. Let $x\in V$. Denote $m_x=\{f\in\C[V]|f(x)=0\}$ a maximal ideal of $\C[V]$. Then $$\dim(m_x/m_x^2)=\dim(T_p(X))$$
\end{prp}

\subsection{Smooth Points of an Affine Variety}
We continue to restrict our attention to affine varieties. 

\begin{defn}{Smooth and Singular Points of Affine Varieties}{} Let $X$ be an affine variety. A point $p\in X$ is smooth if $\dim(T_p(X))=\dim(X)$. Otherwise, $p\in X$ is singular. 
\end{defn}

Note: Some authors (IR Shafarevich) define singularity by whether the tangent space at a point has dimension higher than the minimum of all the tangent spaces. This makes sense: we can show that the set of all singularities is a closed set. 

\begin{prp}{}{} A point $p\in X=V(f_1,\dots,f_m)\subseteq\C^n$ of an affine algebraic variety with dimension $d$ is singular if and only the Jacobian $$\begin{pmatrix}
\frac{\partial f_1}{\partial x_1}\bigg{|}_p & \cdots & \frac{\partial f_1}{\partial x_n}\bigg{|}_p\\
\vdots & \ddots & \vdots\\
\frac{\partial f_m}{\partial x_1}\bigg{|}_p & \cdots & \frac{\partial f_m}{\partial x_n}\bigg{|}_p
\end{pmatrix}$$
has rank $n-d$. 
\end{prp}

\begin{prp}{}{} Let $X$ be an affine variety. Let $p\in X$. Then $X$ is smooth at $p$ if and only if the local ring $\mathcal{O}_{X,p}$ is regular. 
\end{prp}

\subsection{Smooth Points of a Variety in General}
We can now motivate the definition of a smooth point using the purely algebraic characterization. 

\begin{defn}{Smooth and Singular Points of A General Variety}{} Let $X$ be a variety. We say that $X$ is smooth at a point $p\in X$ if the local ring $\mathcal{O}_{X,p}$ is a regular local ring, otherwise it is singular. $X$ is smooth if every point of $X$ is smooth. 
\end{defn}

\begin{thm}{}{} Let $X$ be a variety. Then the set of singular points of $X$ is a proper closed subset of $X$. 
\end{thm}

\begin{prp}{}{} Let $X$ be a variety. If $p\in X$ is a smooth point, then $\mO_{X,p}$ is a UFD. 
\end{prp}

\begin{prp}{}{} Let $X$ be a variety and let $Y\subseteq X$ be an irreducible subvariety of $X$. If $p\in X$ is non-singular, then there exists an affine neighbourhood $U\subseteq X$ of $x$ together with $f_1,\dots,f_k\in k[U]$
\end{prp}

\pagebreak
\section{Birational Geometry}
\subsection{Birational Morphisms}
\begin{defn}{Projective Morphism}{} A morphism of varieties $\pi:X\to V$ is called a projective morphism if $X$ is a closed subvariety of a product variety, meaning that $X\subset V\times\Prj^n$ and $\pi$ is the restriction of the projection onto the first coordinate. 
\end{defn}

Note that this is not the same as morphisms of projective varieties. 

\begin{defn}{Birational Morphism}{} A morphism $\pi:X\to V$ of quasiprojective varieties is called a birational morphism if its restriction to some dense open set $U\subset X$ is an isomorphism onto some dense open subset $U'\subset V$. 
\end{defn}

\subsection{Birational Maps}
While morphisms are meant to be defined entirely for the variety, rational maps of varieties simply rely on a definition on open subsets of the variety, which makes it more versatile. 

\begin{lmm}{}{} Open subsets of a variety is dense. 
\end{lmm}

\begin{lmm}{}{} Let $X,Y$ be varieties. Let $\phi,\psi$ be two morphisms from $X\to Y$. Suppose that there is a nonempty open subset $U\subseteq X$ such that $\phi|_U=\psi|_U$. Then $\phi=\psi$. 
\end{lmm}

\begin{defn}{Rational Maps}{} Let $X,Y$ he varieties. A rational map $\phi:X\to Y$ is an equivalence class of pairs $\langle U,\phi_U\rangle$, where $U$ is a nonempty open subset of $X$, and $\phi|_U$ is a morphism of $U$ to $Y$. \\~\\
We say that $\langle U,\phi|_U\rangle$ and $\langle V,\phi|_V\rangle$ are equivalent if $\phi|_U$ and $\phi|_V$ agree on $U\cap V$. \\~\\
The rational map $\phi$ is dominant if for some (and hence every) pair $\langle U,\phi|_U\rangle$, the image of $\phi|_U$ is dense in $Y$. 
\end{defn}

\begin{defn}{Birational Maps}{} A birational map $\phi:X\to Y$ is a rational map which has an inverse. In this case, we say that $X$ and $Y$ are birationally equivalent. 
\end{defn}

Varieties can form a category where morphisms are simply dominant rational maps. Isomorphisms in the category are birational maps. 

\subsection{Categorical Equivalence with Finitely Generated Field Extensions}
\begin{prp}{}{} Let $\phi:X\to Y$ be a dominant rational map represented by $\langle U,\phi_U\rangle$. Let $f\in \C[Y]$ be a rational function represented by $\langle V,f\rangle$ where $V$ is an open set in $Y$ and $f$ regular function on $V$. Then $f\circ\phi_U$ is a homomorphism of $\C$-algebras from $\C[Y]$ to $\C[X]$. \tcbline
\begin{proof}
Notice that since $\phi_U(U)$ is dense in $Y$, $\phi_U^{-1}(V)$ is a nonempty open subset of $X$. Thus $f\circ\phi_U$ is a regular function on $\phi_U^{-1}(V)$. Thus $f\circ\phi_U$ is rational function on $X$. This means that $f\circ\phi_U\in\C[X]$. \\~\\
In particular, the map taking $f$ to $f\circ\phi_U$ is a $\C$-algebra homomorphism. 
\end{proof}
\end{prp}

\begin{thm}{}{} Let $X$ and $Y$ be two varieties. The above construction gives a bijection between the set of dominant rational maps from $X\to Y$ and the set of $\C$-algebra homomorphisms from $\C[Y]$ to $\C[X]$. \\~\\
In other words, this correspondence is a contravariant functor from the category of varieties and the category of finitely generated field extensions of $\C$. 
\end{thm}

\begin{crl}{}{} Let $X,Y$ be two varieties. The the following conditions are equivalent. 
\begin{itemize}
\item $X$ and $Y$ are birationally equivalent
\item There exists open subsets $U\subseteq X$ and $V\subseteq Y$ with $U$ isomorphic to $V$
\item $K(X)$ and $K(Y)$ are isomorphic $\C$-algebras
\end{itemize}
\end{crl}

\subsection{Blowing Ups}
\begin{defn}{Blowing Up at $\A^n$}{} Define the blowing up of $\A^n$ at the point $0$ to be the closed subset $X$ of $\A^n\times\Prj^{n-1}$ defined by the equations $\{x_iy_j=x_jy_i|0\leq i,j\leq n\}$. Restricting the projection $\A^n\times\Prj^{n-1}\to\A^n$ to the first factor gives a natural morphism $\phi:X\to\A^n$. 
\end{defn}

\begin{thm}{}{} The following are true with regards to blowing up at $\A^n$. 
\begin{itemize}
\item $X$ is a quasiprojective variety
\item $\phi$ is an isomorphism for the sets $X\setminus\phi^{-1}(0)$ and $\A^n\setminus\{0\}$
\item $\phi^{-1}(0)\cong\Prj^{n-1}$
\end{itemize}
\end{thm}

\begin{defn}{Blowing Up at a Point}{} Let $Y$ be a closed subvariety of $\A^n$ passing through $0$. Define the blowing up of $Y$ at $0$ to be the the closure of $Z=\phi^{-1}(Y\setminus\{0\})$, where $\phi:X\to\A^n$ is obtained from the above blowing up at $\A^n$. Also denote $\phi:\overline{Z}\to Z$ the morphism obtained by further restricting $\phi$ to $\overline{Z}$. \\~\\
To blow up any point other than $0$, perform a linear change in coordinates sending $P$ to $0$. 
\end{defn}

\begin{defn}{Blowup along an Ideal}{} Let $F_1,\dots,F_r$ be functions in the coordinate ring $\C[x]$ of an affine algebraic variety $X$, and let $I$ be the ideal they generate. Assume that $I$ is a proper nonzero ideal of $\C[x]$. The blowup of the variety $X$ along the ideal $I$ is the graph $B$ of the rational map $F:X\to\Prj^{r-1}$ defined by $$F(x)=[F_1(x):\dots:F_r(x)]$$ amd the natural projection $\pi:X\times\Prj^{r-1}\to X$. 
\end{defn}

\pagebreak
\section{Theory of Divisors}
\subsection{Divisors of a Variety}
\begin{defn}{Divisors of a Variety}{} Let $X$ be a variety. Let $C_1,\dots,C_r$ be irreducible closed subvarieties of $X$ of codimension $1$. A divisor of $X$ is of the form $$D=\sum_{i=1}^rk_iC_i$$ for $k_i\in\Z$. We say that $k_i$ is the multiplicity of $C_i$ in $D$. Define the free group of all divisors of $X$ by $$\text{Div}(X)=\Z\left\langle C\;|\;C\substack{\text{ is an irreducible closed}\\\text{subvariety of codimension }1}\right\rangle$$ Generators of $\text{Div}(X)$ are called prime divisors. 
\end{defn}

\begin{defn}{Effective Divisor}{} Let $X$ be a variety. We say that a divisor $$D=\sum_{i=1}^rk_iC_i$$ of $X$ is effective if $k_i\geq 0$ for all $i$. In this case we write $D>0$. 
\end{defn}

\begin{defn}{Divisor of a Function}{} Let $X$ be a variety such that the set of singular points of $X$ has codimension $\geq 2$. Let $f\in K(X)$. Let $C$ be a prime divisor of $X$. 
\end{defn}

\begin{defn}{Principal Divisors}{} Let $X$ be a variety. A divisor of the form $D=\text{div}(f)$ for some $f\in K(X)$ is called a principal divisor. \\~\\
Define the set of all principal divisors by $P(X)$. 
\end{defn}

\begin{prp}{}{} Let $X$ be a variety. The set of all principal divisors $P(X)$ is a group. 
\end{prp}

\begin{defn}{Divisor Class Group}{} Let $X$ be a variety. Define the divisor class group of $X$ to be $$\text{Cl}(X)=\frac{\text{Div}(X)}{P(X)}$$
We say that two divisors $D_1$ and $D_2$ are linearly equivalent if they lie in the same coset of $\text{Cl}(X)$, written as $D_1\sim D_2$. 
\end{defn}

\begin{defn}{Degree of a Divisor}{}
\end{defn}

\begin{prp}{}{} Let $X$ be a variety. Then $D$ is a principal divisor if and only if $\deg(D)=0$. 
\end{prp}

\subsection{The Linear System of a Divisor}
\begin{defn}{Associated Vector Space of a Divisor}{} Let $X$ be a nonsingular variety. Define the associated vector space of a divisor $D$ of $X$ to be $$\mathcal{L}(D)=\{f\in K(X)\;|\;\text{div}(f)+D\geq 0\}\cup\{0\}$$
\end{defn}

\begin{lmm}{}{} Let $X$ be a nonsingular variety. Then $\mathcal{L}(D)$ is a vector space over the field $k$. 
\end{lmm}

\begin{defn}{Dimension of the Associated Vector Space}{} Let $X$ be a nonsingular variety. Denote $\ell(D)$ the dimension of $\mathcal{L}(D)$, which is also called the dimension of $D$. 
\end{defn}

\begin{thm}{}{} Linearly equivalent divisors have the same dimension. 
\end{thm}

\pagebreak
\section{Intersection Theory}
















\end{document}
